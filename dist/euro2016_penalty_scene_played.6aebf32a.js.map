{"version":3,"sources":["js/penalty_euro/euro2016_penalty_scene_played.js"],"names":["outrenderer","outstage","outbackground","logo3","containermain","prize","textBottom","textTop","active3","container_prize","PIXI","Container","message_final","Sprite","container_score","selected_flag","random_flag_sprite","Scene4","stage","renderer","background","containerscore","resources","texture","position","x","y","height","width","addChild","anchor","Text","messages","font","fill","align","c","fadeOut","original_width","showMessage","result","fadeIn","scale","slide","onComplete","requestAnimationFrame","animatePrizeWinner","breathe","prototype","startScene","teams","scores","status","idflag","random_flag","teams_new","replace","split","key","names","hasOwnProperty","obj","scores_new","JSON","parse","c1","i","usr","c2","j","pc","active2","active_score_2","textTeam1","textTeam2","textScoreTeam1","textScoreTeam2","textureFlag","Texture","fromImage","textureRandomFlag","visible","lg","prs","text","prb","clearScene","repositionElements","orientation","isActive","yspeed_4"],"mappings":"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","file":"euro2016_penalty_scene_played.6aebf32a.js","sourceRoot":"..","sourcesContent":["/**\r\n * JS code for the stage 1\r\n */\r\nvar outrenderer;\r\nvar outstage;\r\nvar outbackground;\r\nvar active3 = 0;\r\n\r\nvar container_prize = new PIXI.Container();\r\nvar message_final = new PIXI.Sprite();\r\nvar container_score = new PIXI.Container();\r\nvar logo3;\r\nvar containermain;\r\nvar prize;\r\nvar textBottom;\r\nvar textTop;\r\n\r\nvar selected_flag = new PIXI.Sprite();\r\nvar random_flag_sprite = new PIXI.Sprite();\r\n\r\nfunction Scene4(stage, renderer, background) {\r\n  containerscore = new PIXI.Sprite(\r\n    resources[\"/cache/static/euro2016_penalty/container_score.png\"].texture\r\n  );\r\n  logo3 = new PIXI.Sprite(\r\n    resources[\"/cache/static/euro2016_penalty/small_logo.png\"].texture\r\n  );\r\n  containermain = new PIXI.Sprite(\r\n    resources[\"/cache/static/euro2016_penalty/container_box.png\"].texture\r\n  );\r\n  prize = new PIXI.Sprite(\r\n    resources[\"/cache/static/euro2016_penalty/red_card.png\"].texture\r\n  );\r\n\r\n  outstage = stage;\r\n  outrenderer = renderer;\r\n  outbackground = background;\r\n\r\n  containermain.position.x = 0;\r\n  containermain.position.y = 0;\r\n  containermain.height = 420;\r\n  containermain.width = 420;\r\n  container_prize.addChild(containermain);\r\n\r\n  logo3.anchor.x = 0.5;\r\n  logo3.anchor.y = 0.5;\r\n  logo3.position.x = containermain.width / 2;\r\n  logo3.position.y = 370;\r\n  container_prize.addChild(logo3);\r\n\r\n  prize.anchor.x = 0.5;\r\n  prize.anchor.y = 0.5;\r\n  prize.position.x = containermain.width / 2;\r\n  prize.position.y = 180;\r\n  prize.height = 180;\r\n  prize.width = 180;\r\n  container_prize.addChild(prize);\r\n\r\n  message_final.anchor.x = 0.5;\r\n  message_final.anchor.y = 0.5;\r\n  message_final.position.x = container_prize.width / 2;\r\n  message_final.position.y = container_prize.height;\r\n\r\n  container_prize.addChild(message_final);\r\n  textBottom = new PIXI.Text(messages[\"loser\"], {\r\n    font: \"bold italic 16px Arial\",\r\n    fill: \"white\",\r\n    align: \"center\",\r\n  });\r\n  textBottom.anchor.x = 0.5;\r\n  textBottom.anchor.y = 0.5;\r\n  textBottom.position.x = containermain.width / 2;\r\n  textBottom.position.y = 315;\r\n  c.fadeOut(textBottom);\r\n\r\n  textTop = new PIXI.Text(messages[\"top_winner\"], {\r\n    font: \"bold italic 18px Arial\",\r\n    fill: \"white\",\r\n    align: \"center\",\r\n  });\r\n  textTop.anchor.x = 0.5;\r\n  textTop.anchor.y = 0.5;\r\n  textTop.position.x = containermain.width / 2;\r\n  textTop.position.y = 110;\r\n  c.fadeOut(textTop);\r\n\r\n  container_prize.addChild(textBottom);\r\n  container_prize.addChild(textTop);\r\n\r\n  container_prize.position.x = outrenderer.original_width / 2 - 210;\r\n  container_prize.position.y = 90;\r\n  outstage.addChild(container_prize);\r\n\r\n  containerscore.anchor.x = 0.5;\r\n  containerscore.anchor.y = 0.5;\r\n  containerscore.position.x = 200;\r\n  containerscore.position.y = 41;\r\n  containerscore.width = 400;\r\n  containerscore.height = 82;\r\n  container_score.position.x = outrenderer.original_width / 2 - 200;\r\n  container_score.position.y = 0;\r\n\r\n  container_score.addChild(containerscore);\r\n  outstage.addChild(container_score);\r\n}\r\n\r\nScene4.prototype.startScene = function (result, teams, scores, status) {\r\n  var idflag;\r\n  var random_flag;\r\n  if (status == \"2\") {\r\n    teams = teams.replace(\"'\", \"\").replace(\"'\", \"\");\r\n    var teams_new = teams.split(\":\");\r\n    for (var key in names) {\r\n      // skip loop if the property is from prototype\r\n      if (!names.hasOwnProperty(key)) continue;\r\n      var obj = names[key];\r\n      if (obj[0] == teams_new[0]) idflag = key;\r\n      if (obj[0] == teams_new[1]) random_flag = key;\r\n    }\r\n\r\n    var scores_new = JSON.parse(scores);\r\n    var c1 = 0;\r\n    for (var i = 0; i < 5; i++) {\r\n      c1 += scores_new.usr[i];\r\n    }\r\n    var c2 = 0;\r\n    for (var j = 0; j < 5; j++) {\r\n      c2 += scores_new.pc[j];\r\n    }\r\n\r\n    active2 = 1;\r\n    active_score_2 = 1;\r\n    textTeam1 = new PIXI.Text(names[idflag][1], {\r\n      font: \"bold 17px Arial\",\r\n      fill: \"black\",\r\n      align: \"left\",\r\n    });\r\n    textTeam1.position.x = 45;\r\n    textTeam1.position.y = 9;\r\n    textTeam2 = new PIXI.Text(names[random_flag][1], {\r\n      font: \"bold 17px Arial\",\r\n      fill: \"black\",\r\n      align: \"right\",\r\n    });\r\n    textTeam2.anchor.x = 1;\r\n    textTeam2.position.x = 360;\r\n    textTeam2.position.y = 9;\r\n\r\n    textScoreTeam1 = new PIXI.Text(c1 + \"\", {\r\n      font: \"bold 30px Arial\",\r\n      fill: \"#74B500\",\r\n      align: \"center\",\r\n    });\r\n    textScoreTeam1.position.x = 170;\r\n    textScoreTeam1.position.y = 48;\r\n    textScoreTeam2 = new PIXI.Text(c2 + \"\", {\r\n      font: \"bold 30px Arial\",\r\n      fill: \"#74B500\",\r\n      align: \"center\",\r\n    });\r\n    textScoreTeam2.anchor.x = 0.5;\r\n    textScoreTeam2.position.x = 222;\r\n    textScoreTeam2.position.y = 48;\r\n\r\n    //Adds the flag selected by the user\r\n    var textureFlag = PIXI.Texture.fromImage(\r\n      \"/cache/static/euro2016_penalty/flags/\" + idflag + \".png\"\r\n    );\r\n    selected_flag.texture = textureFlag;\r\n    selected_flag.anchor.x = 0.5;\r\n    selected_flag.anchor.y = 0.5;\r\n    selected_flag.width = 32;\r\n    selected_flag.height = 32;\r\n    selected_flag.position.x = 20;\r\n    selected_flag.position.y = 18;\r\n\r\n    container_score.addChild(selected_flag);\r\n    //Adds a random flag as opponent\r\n    var textureRandomFlag = PIXI.Texture.fromImage(\r\n      \"/cache/static/euro2016_penalty/flags/\" + random_flag + \".png\"\r\n    );\r\n    random_flag_sprite.texture = textureRandomFlag;\r\n    random_flag_sprite.anchor.x = 0.5;\r\n    random_flag_sprite.anchor.y = 0.5;\r\n    random_flag_sprite.width = 32;\r\n    random_flag_sprite.height = 32;\r\n    random_flag_sprite.position.x = 380;\r\n    random_flag_sprite.position.y = 18;\r\n\r\n    teams = names[idflag][0] + \":\" + names[random_flag][0];\r\n\r\n    container_score.addChild(random_flag_sprite);\r\n    container_score.addChild(textTeam1);\r\n    container_score.addChild(textTeam2);\r\n    container_score.addChild(textScoreTeam1);\r\n    container_score.addChild(textScoreTeam2);\r\n  } else {\r\n    container_score.visible = false;\r\n  }\r\n  if (result == \"0\") {\r\n    message_final.texture =\r\n      resources[\r\n        \"/cache/static/euro2016_penalty/messages/try_again_\" + lg + \".png\"\r\n      ].texture;\r\n    prize.texture =\r\n      resources[\"/cache/static/euro2016_penalty/red_card.png\"].texture;\r\n  } else if (result == \"1\") {\r\n    message_final.texture =\r\n      resources[\r\n        \"/cache/static/euro2016_penalty/messages/congrats_\" + lg + \".png\"\r\n      ].texture;\r\n    prize.texture =\r\n      resources[\r\n        \"/cache/static/euro2016_penalty/messages/\" + prs + \".png\"\r\n      ].texture;\r\n    textBottom.text = messages[\"winner\"];\r\n  } else if (result == \"2\") {\r\n    message_final.texture =\r\n      resources[\r\n        \"/cache/static/euro2016_penalty/messages/congrats_\" + lg + \".png\"\r\n      ].texture;\r\n    prize.texture =\r\n      resources[\r\n        \"/cache/static/euro2016_penalty/messages/\" + prb + \".png\"\r\n      ].texture;\r\n    textBottom.text = messages[\"winner\"];\r\n  }\r\n  showMessage(result);\r\n};\r\n\r\nScene4.prototype.clearScene = function () {};\r\nScene4.prototype.repositionElements = function (orientation) {\r\n  container_score.position.x = outrenderer.original_width / 2 - 200;\r\n  container_prize.position.x = outrenderer.original_width / 2 - 210;\r\n  if (orientation >= 1) container_prize.position.y = 80;\r\n  else container_prize.position.y = 170;\r\n};\r\nScene4.prototype.isActive = function () {\r\n  return active3 === 1 ? true : false;\r\n};\r\nfunction showMessage(result) {\r\n  c.fadeIn(message_final);\r\n  c.scale(message_final, 1, 1, 22);\r\n  var tween_message_final = c.slide(\r\n    message_final,\r\n    message_final.position.x,\r\n    60,\r\n    40,\r\n    \"bounce 3 -3\"\r\n  );\r\n  tween_message_final.onComplete = function () {\r\n    c.fadeIn(textBottom);\r\n    if (result == \"1\") {\r\n      c.fadeIn(textTop);\r\n      requestAnimationFrame(animatePrizeWinner);\r\n      c.breathe(prize, 1, 1, 20, false);\r\n    }\r\n  };\r\n}\r\nvar yspeed_4 = 0.6;\r\n\r\nfunction animatePrizeWinner() {\r\n  if (prize.position.y > 205) {\r\n    // bounce the circle\r\n    yspeed_4 *= -1;\r\n    // affix to the bottom of the stage\r\n    prize.position.y = 205;\r\n  } else if (prize.position.y < 180) {\r\n    // bounce the circle\r\n    yspeed_4 *= -1;\r\n    // affix to the top of the stage\r\n    prize.position.y = 180;\r\n  }\r\n\r\n  prize.position.y += yspeed_4;\r\n  requestAnimationFrame(animatePrizeWinner);\r\n}\r\n"]}