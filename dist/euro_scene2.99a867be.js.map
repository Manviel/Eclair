{"version":3,"sources":["js/penalty_euro/euro_scene2.js"],"names":["outrenderer","outstage","out_next_scene2","outbackground","current_turn","active2","active_score_2","positionYBaseArco","count","container_goal_ball","PIXI","Container","container_score","container_icon","scene_call","gjp","gja","teams_selected","rl","FRAMES","prfx","ball","gloves","white_mark","arco","arco1","arco2","arco3","arco4","arco5","arco6","container","containerscore","arcos","blurFilter1","playerIcon","textTeam1","textTeam2","message","Sprite","selected_flag","random_flag_sprite","numbers_random","score_sprites","score_sprites_auto","score_goal","score_goal_auto","number_clicks_goal","number_clicks_glove","current_turn_sum","sum_score_player","sum_score_auto","Scene2","stage","renderer","next_scene","background","resources","texture","visible","filters","BlurFilter","position","x","original_width","y","addChild","anchor","elasticTween","elasticTweenAuto","current_click","current_auto","empty_score","current_result","width","height","i","length","push","interactive","buttonMode","defaultCursor","mousedown","touchstart","turnInteractiveOnOff","item","pr","pr2","Math","floor","random","requestAnimationFrame","frameBall","c","slide","scale","onComplete","onTweenCompleteBall","displayMessage","onTweenCompleteGloves","animateIcon","prototype","startScene","idflag","random_flag","initGame","Text","names","font","fill","align","textScoreTeam1","textScoreTeam2","textureFlag","Texture","fromImage","textureRandomFlag","teams","Tween","transition_rate","clearScene","cont_ball_tween","setOnComplete","repositionElements","orientation","isActive","blurAmount","cos","blur","rotation","animateErase","yspeed","onButtonUpArco","param","setTimeout","elasticTweenBackX","elasticTweenBackY","easing","outCubic","start","alterTurnImages","text","result","lg","tween_message","tween_breathe","breathe","play","pause","tween_message2","newinteractive","url","c_url","jQuery","post","data","tn","response","inits","key","hasOwnProperty","a","JSON","parse","Base64","decode","parseInt","console","log"],"mappings":"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","file":"euro_scene2.99a867be.js","sourceRoot":"..","sourcesContent":["/**\r\n * JS code for the stage 2\r\n */\r\n\r\nvar outrenderer;\r\nvar outstage;\r\nvar out_next_scene2;\r\nvar outbackground;\r\nvar current_turn = 0;\r\nvar active2 = 0;\r\nvar active_score_2 = 0;\r\nvar positionYBaseArco = 0;\r\nvar count = 0;\r\nvar container_goal_ball = new PIXI.Container();\r\nvar container_score = new PIXI.Container();\r\nvar container_icon = new PIXI.Container();\r\nvar scene_call = 0;\r\nvar gjp = [];\r\nvar gja = [];\r\nvar teams_selected = \"\";\r\nvar rl = 0;\r\nvar FRAMES = [prfx + \"football.png\", prfx + \"football.png\"];\r\n// create a new Sprite using the texture\r\nvar ball;\r\nvar gloves;\r\nvar white_mark;\r\nvar arco;\r\nvar arco1;\r\nvar arco2;\r\nvar arco3;\r\nvar arco4;\r\nvar arco5;\r\nvar arco6;\r\nvar container;\r\nvar containerscore;\r\nvar arcos;\r\nvar blurFilter1;\r\nvar playerIcon;\r\nvar textTeam1;\r\nvar textTeam2;\r\nvar message = new PIXI.Sprite();\r\nvar selected_flag = new PIXI.Sprite();\r\nvar random_flag_sprite = new PIXI.Sprite();\r\n\r\nvar numbers_random = [1, 2, 3, 4, 5, 6];\r\nvar score_sprites = [];\r\nvar score_sprites_auto = [];\r\nvar score_goal = [-1, -1, -1, -1, -1];\r\nvar score_goal_auto = [-1, -1, -1, -1, -1];\r\nvar number_clicks_goal = 0;\r\nvar number_clicks_glove = 0;\r\nvar current_turn_sum = 0;\r\nvar sum_score_player = 0;\r\nvar sum_score_auto = 0;\r\n\r\nfunction Scene2(stage, renderer, next_scene, background) {\r\n  // Initialize sprites 2\r\n\r\n  ball = new PIXI.Sprite(resources[prfx + \"football2.png\"].texture);\r\n  gloves = new PIXI.Sprite(resources[prfx + \"gloves.png\"].texture);\r\n  white_mark = new PIXI.Sprite(resources[prfx + \"white_mark.png\"].texture);\r\n  arco = new PIXI.Sprite(resources[prfx + \"arco.png\"].texture);\r\n  arco1 = new PIXI.Sprite(resources[prfx + \"arco-0-0.png\"].texture);\r\n  arco2 = new PIXI.Sprite(resources[prfx + \"arco-1-0.png\"].texture);\r\n  arco3 = new PIXI.Sprite(resources[prfx + \"arco-2-0.png\"].texture);\r\n  arco4 = new PIXI.Sprite(resources[prfx + \"arco-0-1.png\"].texture);\r\n  arco5 = new PIXI.Sprite(resources[prfx + \"arco-1-1.png\"].texture);\r\n  arco6 = new PIXI.Sprite(resources[prfx + \"arco-2-1.png\"].texture);\r\n  container = new PIXI.Sprite(resources[prfx + \"container_goal.png\"].texture);\r\n  container.visible = false;\r\n  containerscore = new PIXI.Sprite(\r\n    resources[prfx + \"container_score.png\"].texture\r\n  );\r\n  blurFilter1 = new PIXI.filters.BlurFilter();\r\n  playerIcon = new PIXI.Sprite(resources[prfx + \"player_icon.png\"].texture);\r\n\r\n  textTeam1;\r\n  textTeam2;\r\n  message = new PIXI.Sprite();\r\n  selected_flag = new PIXI.Sprite();\r\n  random_flag_sprite = new PIXI.Sprite();\r\n  arcos = [arco1, arco2, arco3, arco4, arco5, arco6];\r\n\r\n  outstage = stage;\r\n  outrenderer = renderer;\r\n  out_next_scene2 = next_scene;\r\n  outbackground = background;\r\n\r\n  container_goal_ball.position.x =\r\n    outrenderer.original_width + (outrenderer.original_width / 2 - 240);\r\n  container_goal_ball.position.y = 0;\r\n\r\n  container.position.x = 0;\r\n  container.position.y = 0;\r\n  container_goal_ball.addChild(container);\r\n\r\n  positionYBaseArco = 250;\r\n  arco2.position.x = 240;\r\n  arco2.position.y = positionYBaseArco - 84;\r\n\r\n  // center the sprites anchor point\r\n  ball.anchor.x = 0.5;\r\n  ball.anchor.y = 0.5;\r\n  ball.filters = [blurFilter1];\r\n\r\n  arco1.position.x = arco2.position.x - 140;\r\n  arco1.position.y = positionYBaseArco - 84;\r\n\r\n  arco3.position.x = arco2.position.x + 140;\r\n  arco3.position.y = positionYBaseArco - 84;\r\n\r\n  arco4.position.x = arco2.position.x - 140;\r\n  arco4.position.y = positionYBaseArco;\r\n\r\n  arco5.position.x = arco2.position.x;\r\n  arco5.position.y = positionYBaseArco;\r\n\r\n  arco6.position.x = arco2.position.x + 140;\r\n  arco6.position.y = positionYBaseArco;\r\n\r\n  //Add goals to array in order to bind a click function to them\r\n  var elasticTween;\r\n  var elasticTweenAuto;\r\n  var current_click;\r\n  var current_auto;\r\n  var empty_score;\r\n  var current_result;\r\n\r\n  containerscore.anchor.x = 0.5;\r\n  containerscore.anchor.y = 0.5;\r\n  containerscore.position.x = 200;\r\n  containerscore.position.y = 41;\r\n  containerscore.width = 400;\r\n  containerscore.height = 82;\r\n  container_score.position.x =\r\n    outrenderer.original_width + (outrenderer.original_width / 2 - 200);\r\n  container_score.position.y = 0;\r\n\r\n  container_score.addChild(containerscore);\r\n\r\n  for (var i = 0; i < score_goal.length; i++) {\r\n    if (i !== 0)\r\n      empty_score = new PIXI.Sprite(\r\n        resources[prfx + \"empty_score.png\"].texture\r\n      );\r\n    else\r\n      empty_score = new PIXI.Sprite(\r\n        resources[prfx + \"selected_score.png\"].texture\r\n      );\r\n    empty_score.anchor.x = 0.5;\r\n    empty_score.anchor.y = 0.5;\r\n    empty_score.width = 22;\r\n    empty_score.height = 22;\r\n    empty_score.position.x = i * 22 + 12;\r\n    empty_score.position.y = 60;\r\n    score_sprites.push(empty_score);\r\n    container_score.addChild(empty_score);\r\n\r\n    //Add the other one for the computer score\r\n    empty_score = new PIXI.Sprite(resources[prfx + \"empty_score.png\"].texture);\r\n    empty_score.anchor.x = 0.5;\r\n    empty_score.anchor.y = 0.5;\r\n    empty_score.width = 22;\r\n    empty_score.height = 22;\r\n    empty_score.position.x = 200 + 78 + (i * 22 + 12);\r\n    empty_score.position.y = 60;\r\n    score_sprites_auto.push(empty_score);\r\n    container_score.addChild(empty_score);\r\n  }\r\n  outstage.addChild(container_score);\r\n  for (var i = 0; i < arcos.length; i++) {\r\n    arcos[i].anchor.x = 0.5;\r\n    arcos[i].anchor.y = 0.5;\r\n    arcos[i].interactive = true;\r\n    arcos[i].buttonMode = true;\r\n    arcos[i].defaultCursor = \"pointer\";\r\n    arcos[i].mousedown = arcos[i].touchstart = function () {\r\n      if (this.interactive == false) return;\r\n      container_icon.visible = false;\r\n      turnInteractiveOnOff(false);\r\n      var item;\r\n      var pr = -1;\r\n      var pr2 = -1;\r\n      if (gjp.length > 0) {\r\n        pr = -2;\r\n        pr2 = -2;\r\n      } else {\r\n        item =\r\n          numbers_random[Math.floor(Math.random() * numbers_random.length)];\r\n      }\r\n\r\n      if (current_turn == 0) {\r\n        if (pr !== -1) {\r\n          pr = gjp[number_clicks_goal];\r\n          if (pr == 1) {\r\n            do {\r\n              item =\r\n                numbers_random[\r\n                  Math.floor(Math.random() * numbers_random.length)\r\n                ];\r\n            } while (\r\n              arcos[item - 1].position.x == this.position.x &&\r\n              arcos[item - 1].position.y == this.position.y\r\n            );\r\n          } else if (pr == 0) {\r\n            do {\r\n              item =\r\n                numbers_random[\r\n                  Math.floor(Math.random() * numbers_random.length)\r\n                ];\r\n            } while (\r\n              arcos[item - 1].position.x != this.position.x ||\r\n              arcos[item - 1].position.y != this.position.y\r\n            );\r\n          }\r\n        }\r\n\r\n        current_click = ball;\r\n        current_auto = gloves;\r\n        if (\r\n          this.position.x == arcos[item - 1].position.x &&\r\n          this.position.y == arcos[item - 1].position.y\r\n        ) {\r\n          current_result = 0;\r\n          score_sprites[number_clicks_goal].texture =\r\n            resources[prfx + \"bad_score.png\"].texture;\r\n        } else {\r\n          current_result = 1;\r\n          score_sprites[number_clicks_goal].texture =\r\n            resources[prfx + \"good_score.png\"].texture;\r\n          sum_score_player += 1;\r\n        }\r\n        score_goal[number_clicks_goal] = current_result;\r\n        number_clicks_goal += 1;\r\n        current_turn = 1;\r\n      } else {\r\n        if (pr2 !== -1) {\r\n          pr2 = gja[number_clicks_glove];\r\n          if (pr2 == 1) {\r\n            do {\r\n              item =\r\n                numbers_random[\r\n                  Math.floor(Math.random() * numbers_random.length)\r\n                ];\r\n            } while (\r\n              arcos[item - 1].position.x == this.position.x &&\r\n              arcos[item - 1].position.y == this.position.y\r\n            );\r\n          } else if (pr2 == 0) {\r\n            do {\r\n              item =\r\n                numbers_random[\r\n                  Math.floor(Math.random() * numbers_random.length)\r\n                ];\r\n            } while (\r\n              arcos[item - 1].position.x != this.position.x ||\r\n              arcos[item - 1].position.y != this.position.y\r\n            );\r\n          }\r\n        }\r\n\r\n        current_click = gloves;\r\n        current_auto = ball;\r\n        if (\r\n          this.position.x == arcos[item - 1].position.x &&\r\n          this.position.y == arcos[item - 1].position.y\r\n        ) {\r\n          current_result = 0;\r\n          score_sprites_auto[number_clicks_glove].texture =\r\n            resources[prfx + \"bad_score.png\"].texture;\r\n        } else {\r\n          current_result = 1;\r\n          score_sprites_auto[number_clicks_glove].texture =\r\n            resources[prfx + \"good_score.png\"].texture;\r\n          sum_score_auto += 1;\r\n        }\r\n        score_goal_auto[number_clicks_glove] = current_result;\r\n        number_clicks_glove += 1;\r\n        current_turn = 0;\r\n      }\r\n\r\n      requestAnimationFrame(frameBall);\r\n      elasticTween = c.slide(\r\n        current_click,\r\n        this.position.x,\r\n        this.position.y,\r\n        25,\r\n        \"inverseSineSquared\"\r\n      );\r\n      c.scale(ball, 0.7, 0.7, 25);\r\n      elasticTweenAuto = c.slide(\r\n        current_auto,\r\n        arcos[item - 1].position.x,\r\n        arcos[item - 1].position.y,\r\n        25,\r\n        \"inverseSineSquared\"\r\n      );\r\n      elasticTween.onComplete = function () {\r\n        onTweenCompleteBall(ball);\r\n      };\r\n      elasticTweenAuto.onComplete = function () {\r\n        displayMessage(current_result);\r\n        onTweenCompleteGloves(gloves);\r\n      };\r\n    };\r\n\r\n    container_goal_ball.addChild(arcos[i]);\r\n  }\r\n\r\n  gloves.position.x = 240;\r\n  gloves.position.y = positionYBaseArco - 15;\r\n  gloves.width = 90;\r\n  gloves.height = 90;\r\n  gloves.anchor.x = 0.5;\r\n  gloves.anchor.y = 0.5;\r\n  container_goal_ball.addChild(gloves);\r\n\r\n  ball.position.x = 240;\r\n  ball.position.y = positionYBaseArco + 150;\r\n\r\n  playerIcon.anchor.x = 0.5;\r\n  playerIcon.anchor.y = 0.5;\r\n  playerIcon.position.x = 0;\r\n  playerIcon.position.y = 0;\r\n\r\n  container_icon.position.x = ball.position.x;\r\n  container_icon.position.y = 340;\r\n  container_icon.addChild(playerIcon);\r\n\r\n  white_mark.anchor.x = 0.5;\r\n  white_mark.anchor.y = 0.5;\r\n  white_mark.position.x = ball.position.x;\r\n  white_mark.position.y = ball.position.y + 35;\r\n\r\n  container_goal_ball.addChild(white_mark);\r\n  container_goal_ball.addChild(ball);\r\n  container_goal_ball.addChild(container_icon);\r\n\r\n  message.anchor.x = 0.5;\r\n  message.anchor.y = 0.5;\r\n  message.position.x = -1000;\r\n  message.position.y = 280;\r\n  container_goal_ball.addChild(message);\r\n  outstage.addChild(container_goal_ball);\r\n  requestAnimationFrame(animateIcon);\r\n}\r\n\r\nScene2.prototype.startScene = function (idflag, random_flag) {\r\n  initGame();\r\n  active2 = 1;\r\n  active_score_2 = 1;\r\n  textTeam1 = new PIXI.Text(names[idflag][1], {\r\n    font: \"bold 17px Arial\",\r\n    fill: \"black\",\r\n    align: \"left\",\r\n  });\r\n  textTeam1.position.x = 45;\r\n  textTeam1.position.y = 9;\r\n  textTeam2 = new PIXI.Text(names[random_flag][1], {\r\n    font: \"bold 17px Arial\",\r\n    fill: \"black\",\r\n    align: \"right\",\r\n  });\r\n  textTeam2.anchor.x = 1;\r\n  textTeam2.position.x = 360;\r\n  textTeam2.position.y = 9;\r\n\r\n  textScoreTeam1 = new PIXI.Text(\"0\", {\r\n    font: \"bold 30px Arial\",\r\n    fill: \"#74B500\",\r\n    align: \"center\",\r\n  });\r\n  textScoreTeam1.position.x = 170;\r\n  textScoreTeam1.position.y = 48;\r\n  textScoreTeam2 = new PIXI.Text(\"0\", {\r\n    font: \"bold 30px Arial\",\r\n    fill: \"#74B500\",\r\n    align: \"center\",\r\n  });\r\n  textScoreTeam2.anchor.x = 0.5;\r\n  textScoreTeam2.position.x = 222;\r\n  textScoreTeam2.position.y = 48;\r\n\r\n  //Adds the flag selected by the user\r\n  var textureFlag = PIXI.Texture.fromImage(prfx + \"flags/\" + idflag + \".png\");\r\n  selected_flag.texture = textureFlag;\r\n  selected_flag.anchor.x = 0.5;\r\n  selected_flag.anchor.y = 0.5;\r\n  selected_flag.width = 32;\r\n  selected_flag.height = 32;\r\n  selected_flag.position.x = 20;\r\n  selected_flag.position.y = 18;\r\n\r\n  container_score.addChild(selected_flag);\r\n  //Adds a random flag as opponent\r\n  var textureRandomFlag = PIXI.Texture.fromImage(\r\n    prfx + \"flags/\" + random_flag + \".png\"\r\n  );\r\n  random_flag_sprite.texture = textureRandomFlag;\r\n  random_flag_sprite.anchor.x = 0.5;\r\n  random_flag_sprite.anchor.y = 0.5;\r\n  random_flag_sprite.width = 32;\r\n  random_flag_sprite.height = 32;\r\n  random_flag_sprite.position.x = 380;\r\n  random_flag_sprite.position.y = 18;\r\n\r\n  teams = names[idflag][0] + \":\" + names[random_flag][0];\r\n\r\n  container_score.addChild(random_flag_sprite);\r\n  container_score.addChild(textTeam1);\r\n  container_score.addChild(textTeam2);\r\n  container_score.addChild(textScoreTeam1);\r\n  container_score.addChild(textScoreTeam2);\r\n  new Tween(\r\n    outbackground,\r\n    \"position.x\",\r\n    outbackground.position.x - 720,\r\n    outstage.transition_rate,\r\n    true\r\n  );\r\n  new Tween(\r\n    container_goal_ball,\r\n    \"position.x\",\r\n    outrenderer.original_width / 2 - 240,\r\n    outstage.transition_rate,\r\n    true\r\n  );\r\n  new Tween(\r\n    container_score,\r\n    \"position.x\",\r\n    outrenderer.original_width / 2 - 200,\r\n    outstage.transition_rate,\r\n    true\r\n  );\r\n};\r\n\r\nScene2.prototype.clearScene = function () {\r\n  if (scene_call == 0) {\r\n    message.visible = false;\r\n\r\n    scene_call = 1;\r\n    active2 = 0;\r\n    new Tween(\r\n      outbackground,\r\n      \"position.x\",\r\n      outbackground.position.x - outrenderer.original_width,\r\n      outstage.transition_rate,\r\n      true\r\n    );\r\n    /*new Tween(container_goal_ball, \"position.x\",(-600) , outstage.transition_rate, true);\r\n         new Tween(container_score, \"position.x\", (-600), outstage.transition_rate, true);*/\r\n    var cont_ball_tween = c.slide(\r\n      container_goal_ball,\r\n      -600,\r\n      container_goal_ball.position.y,\r\n      outstage.transition_rate,\r\n      \"smoothstep\"\r\n    );\r\n    //c.slide(container_score, -600, container_score.position.y, outstage.transition_rate, \"smoothstep\");\r\n    cont_ball_tween.setOnComplete = function () {\r\n      container_goal_ball.visible = false;\r\n      message.visible = false;\r\n    };\r\n    /*var c1=0;\r\n         var c2=0;\r\n         for(var i =0;i < gja.length;i++){\r\n             if(gja[i] == 1)\r\n                c1+=1; \r\n         }\r\n         for(var i =0;i < gjp.length;i++){\r\n             if(gjp[i] == 1)\r\n                c2+=1; \r\n         }\r\n         if(c1 > c2) out_next_scene2.startScene(0,teams);\r\n         else out_next_scene2.startScene(1,teams);*/\r\n    out_next_scene2.startScene(rl, teams);\r\n  }\r\n};\r\n\r\nScene2.prototype.repositionElements = function (orientation) {\r\n  if (active2 == 0) {\r\n    container_goal_ball.position.x =\r\n      outrenderer.original_width + (outrenderer.original_width / 2 - 240);\r\n    if (active_score_2 == 0)\r\n      container_score.position.x =\r\n        outrenderer.original_width + (outrenderer.original_width / 2 - 200);\r\n    else container_score.position.x = outrenderer.original_width / 2 - 200;\r\n  } else {\r\n    container_goal_ball.position.x = outrenderer.original_width / 2 - 240;\r\n    container_score.position.x = outrenderer.original_width / 2 - 200;\r\n  }\r\n  if (orientation >= 1) container_goal_ball.position.y = 0;\r\n  else container_goal_ball.position.y = 130;\r\n  container_score.position.y = 0;\r\n};\r\nScene2.prototype.isActive = function () {\r\n  return active2 === 1 ? true : false;\r\n};\r\n\r\nvar frameBall = function () {\r\n  count += 0.5;\r\n  var blurAmount = Math.cos(count);\r\n  blurFilter1.blur = 20 * blurAmount;\r\n  ball.rotation += 0.3;\r\n  requestAnimationFrame(frameBall);\r\n};\r\nfunction animateErase() {\r\n  ball.rotation -= 0.3;\r\n  blurFilter1.blur = 0;\r\n  requestAnimationFrame(animateErase);\r\n}\r\nvar yspeed = 1;\r\nfunction animateIcon() {\r\n  if (playerIcon.position.y > 30) {\r\n    // bounce the circle\r\n    yspeed *= -1;\r\n    // affix to the bottom of the stage\r\n    playerIcon.position.y = 30;\r\n  } else if (playerIcon.position.y < 0) {\r\n    // bounce the circle\r\n    yspeed *= -1;\r\n    // affix to the top of the stage\r\n    playerIcon.position.y = 0;\r\n  }\r\n  playerIcon.position.y += yspeed;\r\n  requestAnimationFrame(animateIcon);\r\n}\r\nfunction onButtonUpArco() {}\r\nfunction onTweenCompleteBall(param) {\r\n  setTimeout(function () {\r\n    var elasticTweenBackX = new Tween(param, \"position.x\", 240, 25, false);\r\n    var elasticTweenBackY = new Tween(\r\n      param,\r\n      \"position.y\",\r\n      positionYBaseArco + 150,\r\n      25,\r\n      false\r\n    );\r\n    elasticTweenBackX.easing = Tween.outCubic;\r\n    elasticTweenBackY.easing = Tween.outCubic;\r\n    elasticTweenBackX.start();\r\n    elasticTweenBackY.start();\r\n    requestAnimationFrame(animateErase);\r\n  }, 600);\r\n}\r\nfunction onTweenCompleteGloves(param) {\r\n  setTimeout(function () {\r\n    var elasticTweenBackX = new Tween(param, \"position.x\", 240, 25, false);\r\n    var elasticTweenBackY = new Tween(\r\n      param,\r\n      \"position.y\",\r\n      positionYBaseArco - 25,\r\n      25,\r\n      false\r\n    );\r\n    elasticTweenBackX.easing = Tween.outCubic;\r\n    elasticTweenBackY.easing = Tween.outCubic;\r\n    elasticTweenBackX.start();\r\n    elasticTweenBackY.start();\r\n    elasticTweenBackY.setOnComplete(function () {\r\n      alterTurnImages();\r\n    });\r\n  }, 600);\r\n}\r\n\r\nfunction alterTurnImages() {\r\n  if (current_turn == 0) {\r\n    ball.texture = resources[prfx + \"football2.png\"].texture;\r\n    gloves.texture = resources[prfx + \"gloves.png\"].texture;\r\n    container_icon.position.y = 340;\r\n  } else {\r\n    gloves.texture = resources[prfx + \"gloves2.png\"].texture;\r\n    ball.texture = resources[prfx + \"football.png\"].texture;\r\n    container_icon.position.y = 95;\r\n  }\r\n  textScoreTeam1.text = \"\" + sum_score_player;\r\n  textScoreTeam2.text = \"\" + sum_score_auto;\r\n  c.scale(ball, 1, 1, 25);\r\n  container_icon.visible = true;\r\n  turnInteractiveOnOff(true);\r\n}\r\n\r\nfunction displayMessage(result) {\r\n  if (current_turn == 0) {\r\n    if (result == 0) {\r\n      message.texture =\r\n        resources[prfx + \"messages/saved_\" + lg + \".png\"].texture;\r\n    } else {\r\n      message.texture =\r\n        resources[prfx + \"messages/goal_auto_\" + lg + \".png\"].texture;\r\n    }\r\n  } else {\r\n    if (result == 0) {\r\n      message.texture =\r\n        resources[prfx + \"messages/missed_\" + lg + \".png\"].texture;\r\n    } else {\r\n      message.texture =\r\n        resources[prfx + \"messages/goal_\" + lg + \".png\"].texture;\r\n    }\r\n  }\r\n  var tween_message = c.slide(\r\n    message,\r\n    container.width / 2,\r\n    message.position.y,\r\n    20,\r\n    \"deceleration\"\r\n  );\r\n  var tween_breathe;\r\n  tween_message.onComplete = function () {\r\n    tween_breathe = c.breathe(message, 1.2, 1.2, 20, true);\r\n    tween_breathe.play();\r\n    setTimeout(function () {\r\n      tween_breathe.pause();\r\n      var tween_message2 = c.slide(\r\n        message,\r\n        1000,\r\n        message.position.y,\r\n        20,\r\n        \"acceleration\"\r\n      );\r\n      tween_message2.onComplete = function () {\r\n        message.position.x = -1000;\r\n        if (number_clicks_glove === 5) {\r\n          turnInteractiveOnOff(false);\r\n          Scene2.prototype.clearScene();\r\n        }\r\n      };\r\n    }, 800);\r\n  };\r\n}\r\n\r\nfunction turnInteractiveOnOff(newinteractive) {\r\n  for (var i = 0; i < arcos.length; i++) {\r\n    arcos[i].interactive = newinteractive;\r\n  }\r\n}\r\nfunction initGame() {\r\n  var url = c_url + \"PenaltyEURO2016/initializeGame/\";\r\n  jQuery.post(\r\n    url,\r\n    {\r\n      data: tn,\r\n    },\r\n    function (response) {\r\n      if (response) {\r\n        if (typeof response[\"sprites\"] != \"undefined\") {\r\n          var inits = response[\"sprites\"];\r\n          for (var key in inits) {\r\n            if (!inits.hasOwnProperty(key)) continue;\r\n            var a = JSON.parse(Base64.decode(inits[key]));\r\n            for (var i = 0; i < a.length; i++) {\r\n              if (key == \"1\") gjp.push(a[i]);\r\n              else if (key == \"2\") gja.push(a[i]);\r\n            }\r\n            if (key == \"t\") rl = parseInt(a);\r\n          }\r\n        } else {\r\n          console.log(\"Error Inside Response\");\r\n        }\r\n      } else {\r\n        console.log(\"Error\");\r\n      }\r\n    },\r\n    \"jsonp\"\r\n  );\r\n}\r\n"]}