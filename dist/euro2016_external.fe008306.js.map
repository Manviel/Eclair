{"version":3,"sources":["js/penalty_euro/euro2016_external.js"],"names":["_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","_toConsumableArray","arr","Array","isArray","arr2","from","_classCallCheck","instance","TypeError","Charm","_this","renderingEngine","arguments","undefined","PIXI","Error","renderer","ParticleContainer","Sprite","globalTweens","easingFormulas","linear","x","smoothstep","smoothstepSquared","Math","pow","smoothstepCubed","acceleration","accelerationCubed","deceleration","decelerationCubed","sine","sin","PI","sineSquared","sineCubed","inverseSine","inverseSineSquared","inverseSineCubed","spline","t","p0","p1","p2","p3","cubicBezier","a","b","c","d","t2","_addScaleProperties","sprite","scaleX","scale","get","set","value","scaleY","y","property","startValue","endValue","totalFrames","type","_this2","yoyo","delayBeforeRepeat","o","typeArray","split","startMagnitude","parseInt","endMagnitude","start","JSON","parse","stringify","playing","frameCounter","push","update","time","curvedTime","normalizedTime","end","onComplete","splice","indexOf","wait","then","play","pause","tweensToAdd","_this3","forEach","tweenPropertyArguments","newTween","tweenProperty","apply","tweens","completionCounter","completed","tween","frames","alpha","minAlpha","endX","endY","makeTween","endScaleX","endScaleY","scaleFactor","bounce","scaleFactorX","scaleFactorY","xStartMagnitude","xEndMagnitude","yStartMagnitude","yEndMagnitude","friction","_this4","bounceX","bounceY","removeTween","pointsArray","_this5","p","reverse","originalPathArray","loop","_this6","delayBetweenSections","pathArray","makePath","currentPoint","_this7","delayBeforeContinue","currentCurve","followCurve","curveArray","duration","Promise","resolve","reject","setTimeout","tweenObject","_this8","element","Tween","object","autostart","properties","targetValue","active","currentFrame","endFrame","onCompleteParams","easing","noEase","ChainedTween","CombinedTween","showTermsConditions","setOnComplete","callback","parameters","initIterations","oldValue","newValue","runTweens","index","outElastic","ts","tc","inElastic","inOutQuintic","inQuintic","outQuintic","inCubic","inOutCubic","outCubic","currentTween","showCashier","SCALE_MODES","DEFAULT","NEAREST","utils","_saidHello","anim_logos","background","lights","sky","flash","scene1","scene2","scene3","scene4","out_next_scene1","names","messages","winner","loser","top_winner","title_text","terms_conditions","init_message","timers","pr","tn","lg","stage","Container","loader","resources","prfx","autoDetectRenderer","backgroundColor","background_container","container_flashes","container_logos","loading_container","c_url","loadProgressHandler","resource","document","getElementById","innerHTML","progress","toFixed","setup","style","display","texture","original_width","width","original_height","height","appendChild","view","window","addEventListener","resize","transition_rate","anchor","position","slide","createFlashes","createLogos","addChild","Scene3","Scene2","Scene1","startScene","renderImage","requestAnimationFrame","render","height_new","width_new","ratio2","devicePixelRatio","orientation","innerWidth","screen","innerHeight","documentElement","clientHeight","clientWidth","getElementsByTagName","top","repositionElements","flash_temp","temp_size","floor","random","pulse","logo_temp","animateLogo","visible","param","add","on","load","container_1","containerbutton","logo","left_arrow","right_arrow","text_terms_conditions","text_temp","prize_init","text_play","active1","page_flags","mask_menu","Graphics","container_flags","container_button","sub_container_flags","sub_container_flags2","flags","text_init","Text","font","fill","align","next_scene","outstage","outrenderer","positionx","flag","mask","interactive","buttonMode","defaultCursor","mouseup","touchend","row","name_flag","flag_mini_container","col","idflag","clearScene","mouseover","mouseout","beginFill","drawRect","endFill","moveToFlags","animatePrizeWinnerInit","rand_number","random_flag","isActive","out_next_scene2","yspeed_init","ball","gloves","white_mark","arco","arco1","arco2","arco3","arco4","arco5","arco6","container","arcos","blurFilter1","playerIcon","current_turn","active2","active_score_2","positionYBaseArco","count","container_goal_ball","container_score","container_icon","scene_call","gjp","gja","teams_selected","rl","FRAMES","message","selected_flag","random_flag_sprite","numbers_random","score_sprites","score_sprites_auto","score_goal","score_goal_auto","number_clicks_goal","number_clicks_glove","current_turn_sum","sum_score_player","sum_score_auto","elasticTween","elasticTweenAuto","current_click","current_auto","empty_score","current_result","containerscore","filters","BlurFilter","outbackground","mousedown","touchstart","item","turnInteractiveOnOff","pr2","frameBall","onTweenCompleteBall","displayMessage","onTweenCompleteGloves","animateIcon","textScoreTeam1","textScoreTeam2","teams","initGame","textTeam1","textTeam2","textureFlag","Texture","fromImage","textureRandomFlag","blurAmount","cos","blur","rotation","animateErase","yspeed","onButtonUpArco","elasticTweenBackX","elasticTweenBackY","alterTurnImages","text","result","tween_message","tween_breathe","breathe","newinteractive","url","jQuery","post","data","response","inits","hasOwnProperty","Base64","decode","console","log","logo3","containermain","prize","textBottom","textTop","text_terms_conditions_final","active3","container_prize","message_final","fadeOut","showMessage","fadeIn","animatePrizeWinner","prs","prb","params","endGame","yspeed_3","alert"],"mappings":"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","file":"euro2016_external.fe008306.js","sourceRoot":"..","sourcesContent":["\"use strict\";\r\n\r\nvar _createClass = (function () {\r\n  function defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n      var descriptor = props[i];\r\n      descriptor.enumerable = descriptor.enumerable || false;\r\n      descriptor.configurable = true;\r\n      if (\"value\" in descriptor) descriptor.writable = true;\r\n      Object.defineProperty(target, descriptor.key, descriptor);\r\n    }\r\n  }\r\n  return function (Constructor, protoProps, staticProps) {\r\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\r\n    if (staticProps) defineProperties(Constructor, staticProps);\r\n    return Constructor;\r\n  };\r\n})();\r\n\r\nfunction _toConsumableArray(arr) {\r\n  if (Array.isArray(arr)) {\r\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\r\n      arr2[i] = arr[i];\r\n    }\r\n    return arr2;\r\n  } else {\r\n    return Array.from(arr);\r\n  }\r\n}\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n  if (!(instance instanceof Constructor)) {\r\n    throw new TypeError(\"Cannot call a class as a function\");\r\n  }\r\n}\r\n\r\nvar Charm = (function () {\r\n  function Charm() {\r\n    var _this = this;\r\n\r\n    var renderingEngine =\r\n      arguments.length <= 0 || arguments[0] === undefined ? PIXI : arguments[0];\r\n\r\n    _classCallCheck(this, Charm);\r\n\r\n    if (renderingEngine === undefined)\r\n      throw new Error(\r\n        \"Please assign a rendering engine in the constructor before using charm.js\"\r\n      );\r\n\r\n    //Find out which rendering engine is being used (the default is Pixi)\r\n    this.renderer = \"\";\r\n\r\n    //If the `renderingEngine` is Pixi, set up Pixi object aliases\r\n    if (renderingEngine.ParticleContainer && renderingEngine.Sprite) {\r\n      this.renderer = \"pixi\";\r\n    }\r\n\r\n    //An array to store the global tweens\r\n    this.globalTweens = [];\r\n\r\n    //An object that stores all the easing formulas\r\n    this.easingFormulas = {\r\n      //Linear\r\n\r\n      linear: function linear(x) {\r\n        return x;\r\n      },\r\n\r\n      //Smoothstep\r\n      smoothstep: function smoothstep(x) {\r\n        return x * x * (3 - 2 * x);\r\n      },\r\n      smoothstepSquared: function smoothstepSquared(x) {\r\n        return Math.pow(x * x * (3 - 2 * x), 2);\r\n      },\r\n      smoothstepCubed: function smoothstepCubed(x) {\r\n        return Math.pow(x * x * (3 - 2 * x), 3);\r\n      },\r\n\r\n      //Acceleration\r\n      acceleration: function acceleration(x) {\r\n        return x * x;\r\n      },\r\n      accelerationCubed: function accelerationCubed(x) {\r\n        return Math.pow(x * x, 3);\r\n      },\r\n\r\n      //Deceleration\r\n      deceleration: function deceleration(x) {\r\n        return 1 - Math.pow(1 - x, 2);\r\n      },\r\n      decelerationCubed: function decelerationCubed(x) {\r\n        return 1 - Math.pow(1 - x, 3);\r\n      },\r\n\r\n      //Sine\r\n      sine: function sine(x) {\r\n        return Math.sin((x * Math.PI) / 2);\r\n      },\r\n      sineSquared: function sineSquared(x) {\r\n        return Math.pow(Math.sin((x * Math.PI) / 2), 2);\r\n      },\r\n      sineCubed: function sineCubed(x) {\r\n        return Math.pow(Math.sin((x * Math.PI) / 2), 2);\r\n      },\r\n      inverseSine: function inverseSine(x) {\r\n        return 1 - Math.sin(((1 - x) * Math.PI) / 2);\r\n      },\r\n      inverseSineSquared: function inverseSineSquared(x) {\r\n        return 1 - Math.pow(Math.sin(((1 - x) * Math.PI) / 2), 2);\r\n      },\r\n      inverseSineCubed: function inverseSineCubed(x) {\r\n        return 1 - Math.pow(Math.sin(((1 - x) * Math.PI) / 2), 3);\r\n      },\r\n\r\n      //Spline\r\n      spline: function spline(t, p0, p1, p2, p3) {\r\n        return (\r\n          0.5 *\r\n          (2 * p1 +\r\n            (-p0 + p2) * t +\r\n            (2 * p0 - 5 * p1 + 4 * p2 - p3) * t * t +\r\n            (-p0 + 3 * p1 - 3 * p2 + p3) * t * t * t)\r\n        );\r\n      },\r\n\r\n      //Bezier curve\r\n      cubicBezier: function cubicBezier(t, a, b, c, d) {\r\n        var t2 = t * t;\r\n        var t3 = t2 * t;\r\n        return (\r\n          a +\r\n          (-a * 3 + t * (3 * a - a * t)) * t +\r\n          (3 * b + t * (-6 * b + b * 3 * t)) * t +\r\n          (c * 3 - c * 3 * t) * t2 +\r\n          d * t3\r\n        );\r\n      },\r\n    };\r\n\r\n    //Add `scaleX` and `scaleY` properties to Pixi sprites\r\n    this._addScaleProperties = function (sprite) {\r\n      if (_this.renderer === \"pixi\") {\r\n        if (!sprite.scaleX && sprite.scale.x) {\r\n          Object.defineProperty(sprite, \"scaleX\", {\r\n            get: function get() {\r\n              return sprite.scale.x;\r\n            },\r\n            set: function set(value) {\r\n              sprite.scale.x = value;\r\n            },\r\n          });\r\n        }\r\n        if (!sprite.scaleY && sprite.scale.y) {\r\n          Object.defineProperty(sprite, \"scaleY\", {\r\n            get: function get() {\r\n              return sprite.scale.y;\r\n            },\r\n            set: function set(value) {\r\n              sprite.scale.y = value;\r\n            },\r\n          });\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  //The low level `tweenProperty` function is used as the foundation\r\n  //for the the higher level tween methods.\r\n\r\n  _createClass(Charm, [\r\n    {\r\n      key: \"tweenProperty\",\r\n      value: function tweenProperty(\r\n        sprite, //Sprite object\r\n        property, //String property\r\n        startValue, //Tween start value\r\n        endValue, //Tween end value\r\n        totalFrames //Delay in frames before repeating\r\n      ) {\r\n        var type =\r\n          arguments.length <= 5 || arguments[5] === undefined\r\n            ? \"smoothstep\"\r\n            : arguments[5];\r\n\r\n        var _this2 = this;\r\n\r\n        var yoyo =\r\n          arguments.length <= 6 || arguments[6] === undefined\r\n            ? false\r\n            : arguments[6];\r\n        var delayBeforeRepeat =\r\n          arguments.length <= 7 || arguments[7] === undefined\r\n            ? 0\r\n            : arguments[7];\r\n\r\n        //Create the tween object\r\n        var o = {};\r\n\r\n        //If the tween is a bounce type (a spline), set the\r\n        //start and end magnitude values\r\n        var typeArray = type.split(\" \");\r\n        if (typeArray[0] === \"bounce\") {\r\n          o.startMagnitude = parseInt(typeArray[1]);\r\n          o.endMagnitude = parseInt(typeArray[2]);\r\n        }\r\n\r\n        //Use `o.start` to make a new tween using the current\r\n        //end point values\r\n        o.start = function (startValue, endValue) {\r\n          //Clone the start and end values so that any possible references to sprite\r\n          //properties are converted to ordinary numbers\r\n          o.startValue = JSON.parse(JSON.stringify(startValue));\r\n          o.endValue = JSON.parse(JSON.stringify(endValue));\r\n          o.playing = true;\r\n          o.totalFrames = totalFrames;\r\n          o.frameCounter = 0;\r\n\r\n          //Add the tween to the global `tweens` array. The `tweens` array is\r\n          //updated on each frame\r\n          _this2.globalTweens.push(o);\r\n        };\r\n\r\n        //Call `o.start` to start the tween\r\n        o.start(startValue, endValue);\r\n\r\n        //The `update` method will be called on each frame by the game loop.\r\n        //This is what makes the tween move\r\n        o.update = function () {\r\n          var time = void 0,\r\n            curvedTime = void 0;\r\n\r\n          if (o.playing) {\r\n            //If the elapsed frames are less than the total frames,\r\n            //use the tweening formulas to move the sprite\r\n            if (o.frameCounter < o.totalFrames) {\r\n              //Find the normalized value\r\n              var normalizedTime = o.frameCounter / o.totalFrames;\r\n\r\n              //Select the correct easing function from the\r\n              //`ease` objects library of easing functions\r\n\r\n              //If it's not a spline, use one of the ordinary easing functions\r\n              if (typeArray[0] !== \"bounce\") {\r\n                curvedTime = _this2.easingFormulas[type](normalizedTime);\r\n              }\r\n\r\n              //If it's a spline, use the `spline` function and apply the\r\n              //2 additional `type` array values as the spline's start and\r\n              //end points\r\n              else {\r\n                curvedTime = _this2.easingFormulas.spline(\r\n                  normalizedTime,\r\n                  o.startMagnitude,\r\n                  0,\r\n                  1,\r\n                  o.endMagnitude\r\n                );\r\n              }\r\n\r\n              //Interpolate the sprite's property based on the curve\r\n              sprite[property] =\r\n                o.endValue * curvedTime + o.startValue * (1 - curvedTime);\r\n\r\n              o.frameCounter += 1;\r\n            }\r\n\r\n            //When the tween has finished playing, run the end tasks\r\n            else {\r\n              sprite[property] = o.endValue;\r\n              o.end();\r\n            }\r\n          }\r\n        };\r\n\r\n        //The `end` method will be called when the tween is finished\r\n        o.end = function () {\r\n          //Set `playing` to `false`\r\n          o.playing = false;\r\n\r\n          //Call the tween's `onComplete` method, if it's been assigned\r\n          if (o.onComplete) o.onComplete();\r\n\r\n          //Remove the tween from the `tweens` array\r\n          _this2.globalTweens.splice(_this2.globalTweens.indexOf(o), 1);\r\n\r\n          //If the tween's `yoyo` property is `true`, create a new tween\r\n          //using the same values, but use the current tween's `startValue`\r\n          //as the next tween's `endValue`\r\n          if (yoyo) {\r\n            _this2.wait(delayBeforeRepeat).then(function () {\r\n              o.start(o.endValue, o.startValue);\r\n            });\r\n          }\r\n        };\r\n\r\n        //Pause and play methods\r\n        o.play = function () {\r\n          return (o.playing = true);\r\n        };\r\n        o.pause = function () {\r\n          return (o.playing = false);\r\n        };\r\n\r\n        //Return the tween object\r\n        return o;\r\n      },\r\n\r\n      //`makeTween` is a general low-level method for making complex tweens\r\n      //out of multiple `tweenProperty` functions. Its one argument,\r\n      //`tweensToAdd` is an array containing multiple `tweenProperty` calls\r\n    },\r\n    {\r\n      key: \"makeTween\",\r\n      value: function makeTween(tweensToAdd) {\r\n        var _this3 = this;\r\n\r\n        //Create an object to manage the tweens\r\n        var o = {};\r\n\r\n        //Create a `tweens` array to store the new tweens\r\n        o.tweens = [];\r\n\r\n        //Make a new tween for each array\r\n        tweensToAdd.forEach(function (tweenPropertyArguments) {\r\n          //Use the tween property arguments to make a new tween\r\n          var newTween = _this3.tweenProperty.apply(\r\n            _this3,\r\n            _toConsumableArray(tweenPropertyArguments)\r\n          );\r\n\r\n          //Push the new tween into this object's internal `tweens` array\r\n          o.tweens.push(newTween);\r\n        });\r\n\r\n        //Add a counter to keep track of the\r\n        //number of tweens that have completed their actions\r\n        var completionCounter = 0;\r\n\r\n        //`o.completed` will be called each time one of the tweens\r\n        //finishes\r\n        o.completed = function () {\r\n          //Add 1 to the `completionCounter`\r\n          completionCounter += 1;\r\n\r\n          //If all tweens have finished, call the user-defined `onComplete`\r\n          //method, if it's been assigned. Reset the `completionCounter`\r\n          if (completionCounter === o.tweens.length) {\r\n            if (o.onComplete) o.onComplete();\r\n            completionCounter = 0;\r\n          }\r\n        };\r\n\r\n        //Add `onComplete` methods to all tweens\r\n        o.tweens.forEach(function (tween) {\r\n          tween.onComplete = function () {\r\n            return o.completed();\r\n          };\r\n        });\r\n\r\n        //Add pause and play methods to control all the tweens\r\n        o.pause = function () {\r\n          o.tweens.forEach(function (tween) {\r\n            tween.playing = false;\r\n          });\r\n        };\r\n        o.play = function () {\r\n          o.tweens.forEach(function (tween) {\r\n            tween.playing = true;\r\n          });\r\n        };\r\n\r\n        //Return the tween object\r\n        return o;\r\n      },\r\n\r\n      /* High level tween methods */\r\n\r\n      //1. Simple tweens\r\n\r\n      //`fadeOut`\r\n    },\r\n    {\r\n      key: \"fadeOut\",\r\n      value: function fadeOut(sprite) {\r\n        var frames =\r\n          arguments.length <= 1 || arguments[1] === undefined\r\n            ? 60\r\n            : arguments[1];\r\n\r\n        return this.tweenProperty(\r\n          sprite,\r\n          \"alpha\",\r\n          sprite.alpha,\r\n          0,\r\n          frames,\r\n          \"sine\"\r\n        );\r\n      },\r\n\r\n      //`fadeIn`\r\n    },\r\n    {\r\n      key: \"fadeIn\",\r\n      value: function fadeIn(sprite) {\r\n        var frames =\r\n          arguments.length <= 1 || arguments[1] === undefined\r\n            ? 60\r\n            : arguments[1];\r\n\r\n        return this.tweenProperty(\r\n          sprite,\r\n          \"alpha\",\r\n          sprite.alpha,\r\n          1,\r\n          frames,\r\n          \"sine\"\r\n        );\r\n      },\r\n\r\n      //`pulse`\r\n      //Fades the sprite in and out at a steady rate.\r\n      //Set the `minAlpha` to something greater than 0 if you\r\n      //don't want the sprite to fade away completely\r\n    },\r\n    {\r\n      key: \"pulse\",\r\n      value: function pulse(sprite) {\r\n        var frames =\r\n          arguments.length <= 1 || arguments[1] === undefined\r\n            ? 60\r\n            : arguments[1];\r\n        var minAlpha =\r\n          arguments.length <= 2 || arguments[2] === undefined\r\n            ? 0\r\n            : arguments[2];\r\n\r\n        return this.tweenProperty(\r\n          sprite,\r\n          \"alpha\",\r\n          sprite.alpha,\r\n          minAlpha,\r\n          frames,\r\n          \"smoothstep\",\r\n          true\r\n        );\r\n      },\r\n\r\n      //2. Complex tweens\r\n    },\r\n    {\r\n      key: \"slide\",\r\n      value: function slide(sprite, endX, endY) {\r\n        var frames =\r\n          arguments.length <= 3 || arguments[3] === undefined\r\n            ? 60\r\n            : arguments[3];\r\n        var type =\r\n          arguments.length <= 4 || arguments[4] === undefined\r\n            ? \"smoothstep\"\r\n            : arguments[4];\r\n        var yoyo =\r\n          arguments.length <= 5 || arguments[5] === undefined\r\n            ? false\r\n            : arguments[5];\r\n        var delayBeforeRepeat =\r\n          arguments.length <= 6 || arguments[6] === undefined\r\n            ? 0\r\n            : arguments[6];\r\n\r\n        return this.makeTween([\r\n          //Create the x axis tween\r\n          [sprite, \"x\", sprite.x, endX, frames, type, yoyo, delayBeforeRepeat],\r\n\r\n          //Create the y axis tween\r\n          [sprite, \"y\", sprite.y, endY, frames, type, yoyo, delayBeforeRepeat],\r\n        ]);\r\n      },\r\n    },\r\n    {\r\n      key: \"breathe\",\r\n      value: function breathe(sprite) {\r\n        var endScaleX =\r\n          arguments.length <= 1 || arguments[1] === undefined\r\n            ? 0.8\r\n            : arguments[1];\r\n        var endScaleY =\r\n          arguments.length <= 2 || arguments[2] === undefined\r\n            ? 0.8\r\n            : arguments[2];\r\n        var frames =\r\n          arguments.length <= 3 || arguments[3] === undefined\r\n            ? 60\r\n            : arguments[3];\r\n        var yoyo =\r\n          arguments.length <= 4 || arguments[4] === undefined\r\n            ? true\r\n            : arguments[4];\r\n        var delayBeforeRepeat =\r\n          arguments.length <= 5 || arguments[5] === undefined\r\n            ? 0\r\n            : arguments[5];\r\n\r\n        //Add `scaleX` and `scaleY` properties to Pixi sprites\r\n        this._addScaleProperties(sprite);\r\n\r\n        return this.makeTween([\r\n          //Create the scaleX tween\r\n          [\r\n            sprite,\r\n            \"scaleX\",\r\n            sprite.scaleX,\r\n            endScaleX,\r\n            frames,\r\n            \"smoothstepSquared\",\r\n            yoyo,\r\n            delayBeforeRepeat,\r\n          ],\r\n\r\n          //Create the scaleY tween\r\n          [\r\n            sprite,\r\n            \"scaleY\",\r\n            sprite.scaleY,\r\n            endScaleY,\r\n            frames,\r\n            \"smoothstepSquared\",\r\n            yoyo,\r\n            delayBeforeRepeat,\r\n          ],\r\n        ]);\r\n      },\r\n    },\r\n    {\r\n      key: \"scale\",\r\n      value: function scale(sprite) {\r\n        var endScaleX =\r\n          arguments.length <= 1 || arguments[1] === undefined\r\n            ? 0.5\r\n            : arguments[1];\r\n        var endScaleY =\r\n          arguments.length <= 2 || arguments[2] === undefined\r\n            ? 0.5\r\n            : arguments[2];\r\n        var frames =\r\n          arguments.length <= 3 || arguments[3] === undefined\r\n            ? 60\r\n            : arguments[3];\r\n\r\n        //Add `scaleX` and `scaleY` properties to Pixi sprites\r\n        this._addScaleProperties(sprite);\r\n\r\n        return this.makeTween([\r\n          //Create the scaleX tween\r\n          [\r\n            sprite,\r\n            \"scaleX\",\r\n            sprite.scaleX,\r\n            endScaleX,\r\n            frames,\r\n            \"smoothstep\",\r\n            false,\r\n          ],\r\n\r\n          //Create the scaleY tween\r\n          [\r\n            sprite,\r\n            \"scaleY\",\r\n            sprite.scaleY,\r\n            endScaleY,\r\n            frames,\r\n            \"smoothstep\",\r\n            false,\r\n          ],\r\n        ]);\r\n      },\r\n    },\r\n    {\r\n      key: \"strobe\",\r\n      value: function strobe(sprite) {\r\n        var scaleFactor =\r\n          arguments.length <= 1 || arguments[1] === undefined\r\n            ? 1.3\r\n            : arguments[1];\r\n        var startMagnitude =\r\n          arguments.length <= 2 || arguments[2] === undefined\r\n            ? 10\r\n            : arguments[2];\r\n        var endMagnitude =\r\n          arguments.length <= 3 || arguments[3] === undefined\r\n            ? 20\r\n            : arguments[3];\r\n        var frames =\r\n          arguments.length <= 4 || arguments[4] === undefined\r\n            ? 10\r\n            : arguments[4];\r\n        var yoyo =\r\n          arguments.length <= 5 || arguments[5] === undefined\r\n            ? true\r\n            : arguments[5];\r\n        var delayBeforeRepeat =\r\n          arguments.length <= 6 || arguments[6] === undefined\r\n            ? 0\r\n            : arguments[6];\r\n\r\n        var bounce = \"bounce \" + startMagnitude + \" \" + endMagnitude;\r\n\r\n        //Add `scaleX` and `scaleY` properties to Pixi sprites\r\n        this._addScaleProperties(sprite);\r\n\r\n        return this.makeTween([\r\n          //Create the scaleX tween\r\n          [\r\n            sprite,\r\n            \"scaleX\",\r\n            sprite.scaleX,\r\n            scaleFactor,\r\n            frames,\r\n            bounce,\r\n            yoyo,\r\n            delayBeforeRepeat,\r\n          ],\r\n\r\n          //Create the scaleY tween\r\n          [\r\n            sprite,\r\n            \"scaleY\",\r\n            sprite.scaleY,\r\n            scaleFactor,\r\n            frames,\r\n            bounce,\r\n            yoyo,\r\n            delayBeforeRepeat,\r\n          ],\r\n        ]);\r\n      },\r\n    },\r\n    {\r\n      key: \"wobble\",\r\n      value: function wobble(sprite) {\r\n        var scaleFactorX =\r\n          arguments.length <= 1 || arguments[1] === undefined\r\n            ? 1.2\r\n            : arguments[1];\r\n        var scaleFactorY =\r\n          arguments.length <= 2 || arguments[2] === undefined\r\n            ? 1.2\r\n            : arguments[2];\r\n        var frames =\r\n          arguments.length <= 3 || arguments[3] === undefined\r\n            ? 10\r\n            : arguments[3];\r\n        var xStartMagnitude =\r\n          arguments.length <= 4 || arguments[4] === undefined\r\n            ? 10\r\n            : arguments[4];\r\n        var xEndMagnitude =\r\n          arguments.length <= 5 || arguments[5] === undefined\r\n            ? 10\r\n            : arguments[5];\r\n        var yStartMagnitude =\r\n          arguments.length <= 6 || arguments[6] === undefined\r\n            ? -10\r\n            : arguments[6];\r\n        var yEndMagnitude =\r\n          arguments.length <= 7 || arguments[7] === undefined\r\n            ? -10\r\n            : arguments[7];\r\n        var friction =\r\n          arguments.length <= 8 || arguments[8] === undefined\r\n            ? 0.98\r\n            : arguments[8];\r\n\r\n        var _this4 = this;\r\n\r\n        var yoyo =\r\n          arguments.length <= 9 || arguments[9] === undefined\r\n            ? true\r\n            : arguments[9];\r\n        var delayBeforeRepeat =\r\n          arguments.length <= 10 || arguments[10] === undefined\r\n            ? 0\r\n            : arguments[10];\r\n\r\n        var bounceX = \"bounce \" + xStartMagnitude + \" \" + xEndMagnitude;\r\n        var bounceY = \"bounce \" + yStartMagnitude + \" \" + yEndMagnitude;\r\n\r\n        //Add `scaleX` and `scaleY` properties to Pixi sprites\r\n        this._addScaleProperties(sprite);\r\n\r\n        var o = this.makeTween([\r\n          //Create the scaleX tween\r\n          [\r\n            sprite,\r\n            \"scaleX\",\r\n            sprite.scaleX,\r\n            scaleFactorX,\r\n            frames,\r\n            bounceX,\r\n            yoyo,\r\n            delayBeforeRepeat,\r\n          ],\r\n\r\n          //Create the scaleY tween\r\n          [\r\n            sprite,\r\n            \"scaleY\",\r\n            sprite.scaleY,\r\n            scaleFactorY,\r\n            frames,\r\n            bounceY,\r\n            yoyo,\r\n            delayBeforeRepeat,\r\n          ],\r\n        ]);\r\n\r\n        //Add some friction to the `endValue` at the end of each tween\r\n        o.tweens.forEach(function (tween) {\r\n          tween.onComplete = function () {\r\n            //Add friction if the `endValue` is greater than 1\r\n            if (tween.endValue > 1) {\r\n              tween.endValue *= friction;\r\n\r\n              //Set the `endValue` to 1 when the effect is finished and\r\n              //remove the tween from the global `tweens` array\r\n              if (tween.endValue <= 1) {\r\n                tween.endValue = 1;\r\n                _this4.removeTween(tween);\r\n              }\r\n            }\r\n          };\r\n        });\r\n\r\n        return o;\r\n      },\r\n\r\n      //3. Motion path tweens\r\n    },\r\n    {\r\n      key: \"followCurve\",\r\n      value: function followCurve(sprite, pointsArray, totalFrames) {\r\n        var type =\r\n          arguments.length <= 3 || arguments[3] === undefined\r\n            ? \"smoothstep\"\r\n            : arguments[3];\r\n\r\n        var _this5 = this;\r\n\r\n        var yoyo =\r\n          arguments.length <= 4 || arguments[4] === undefined\r\n            ? false\r\n            : arguments[4];\r\n        var delayBeforeRepeat =\r\n          arguments.length <= 5 || arguments[5] === undefined\r\n            ? 0\r\n            : arguments[5];\r\n\r\n        //Create the tween object\r\n        var o = {};\r\n\r\n        //If the tween is a bounce type (a spline), set the\r\n        //start and end magnitude values\r\n        var typeArray = type.split(\" \");\r\n        if (typeArray[0] === \"bounce\") {\r\n          o.startMagnitude = parseInt(typeArray[1]);\r\n          o.endMagnitude = parseInt(typeArray[2]);\r\n        }\r\n\r\n        //Use `tween.start` to make a new tween using the current\r\n        //end point values\r\n        o.start = function (pointsArray) {\r\n          o.playing = true;\r\n          o.totalFrames = totalFrames;\r\n          o.frameCounter = 0;\r\n\r\n          //Clone the points array\r\n          o.pointsArray = JSON.parse(JSON.stringify(pointsArray));\r\n\r\n          //Add the tween to the `globalTweens` array. The `globalTweens` array is\r\n          //updated on each frame\r\n          _this5.globalTweens.push(o);\r\n        };\r\n\r\n        //Call `tween.start` to start the first tween\r\n        o.start(pointsArray);\r\n\r\n        //The `update` method will be called on each frame by the game loop.\r\n        //This is what makes the tween move\r\n        o.update = function () {\r\n          var normalizedTime = void 0,\r\n            curvedTime = void 0,\r\n            p = o.pointsArray;\r\n\r\n          if (o.playing) {\r\n            //If the elapsed frames are less than the total frames,\r\n            //use the tweening formulas to move the sprite\r\n            if (o.frameCounter < o.totalFrames) {\r\n              //Find the normalized value\r\n              normalizedTime = o.frameCounter / o.totalFrames;\r\n\r\n              //Select the correct easing function\r\n\r\n              //If it's not a spline, use one of the ordinary tween\r\n              //functions\r\n              if (typeArray[0] !== \"bounce\") {\r\n                curvedTime = _this5.easingFormulas[type](normalizedTime);\r\n              }\r\n\r\n              //If it's a spline, use the `spline` function and apply the\r\n              //2 additional `type` array values as the spline's start and\r\n              //end points\r\n              else {\r\n                //curve = tweenFunction.spline(n, type[1], 0, 1, type[2]);\r\n                curvedTime = _this5.easingFormulas.spline(\r\n                  normalizedTime,\r\n                  o.startMagnitude,\r\n                  0,\r\n                  1,\r\n                  o.endMagnitude\r\n                );\r\n              }\r\n\r\n              //Apply the Bezier curve to the sprite's position\r\n              sprite.x = _this5.easingFormulas.cubicBezier(\r\n                curvedTime,\r\n                p[0][0],\r\n                p[1][0],\r\n                p[2][0],\r\n                p[3][0]\r\n              );\r\n              sprite.y = _this5.easingFormulas.cubicBezier(\r\n                curvedTime,\r\n                p[0][1],\r\n                p[1][1],\r\n                p[2][1],\r\n                p[3][1]\r\n              );\r\n\r\n              //Add one to the `elapsedFrames`\r\n              o.frameCounter += 1;\r\n            }\r\n\r\n            //When the tween has finished playing, run the end tasks\r\n            else {\r\n              //sprite[property] = o.endValue;\r\n              o.end();\r\n            }\r\n          }\r\n        };\r\n\r\n        //The `end` method will be called when the tween is finished\r\n        o.end = function () {\r\n          //Set `playing` to `false`\r\n          o.playing = false;\r\n\r\n          //Call the tween's `onComplete` method, if it's been\r\n          //assigned\r\n          if (o.onComplete) o.onComplete();\r\n\r\n          //Remove the tween from the global `tweens` array\r\n          _this5.globalTweens.splice(_this5.globalTweens.indexOf(o), 1);\r\n\r\n          //If the tween's `yoyo` property is `true`, reverse the array and\r\n          //use it to create a new tween\r\n          if (yoyo) {\r\n            _this5.wait(delayBeforeRepeat).then(function () {\r\n              o.pointsArray = o.pointsArray.reverse();\r\n              o.start(o.pointsArray);\r\n            });\r\n          }\r\n        };\r\n\r\n        //Pause and play methods\r\n        o.pause = function () {\r\n          o.playing = false;\r\n        };\r\n        o.play = function () {\r\n          o.playing = true;\r\n        };\r\n\r\n        //Return the tween object\r\n        return o;\r\n      },\r\n    },\r\n    {\r\n      key: \"walkPath\",\r\n      value: function walkPath(\r\n        sprite, //The sprite\r\n        originalPathArray //Delay, in milliseconds, between sections\r\n      ) {\r\n        var totalFrames =\r\n          arguments.length <= 2 || arguments[2] === undefined\r\n            ? 300\r\n            : arguments[2];\r\n        var type =\r\n          arguments.length <= 3 || arguments[3] === undefined\r\n            ? \"smoothstep\"\r\n            : arguments[3];\r\n        var loop =\r\n          arguments.length <= 4 || arguments[4] === undefined\r\n            ? false\r\n            : arguments[4];\r\n\r\n        var _this6 = this;\r\n\r\n        var yoyo =\r\n          arguments.length <= 5 || arguments[5] === undefined\r\n            ? false\r\n            : arguments[5];\r\n        var delayBetweenSections =\r\n          arguments.length <= 6 || arguments[6] === undefined\r\n            ? 0\r\n            : arguments[6];\r\n\r\n        //Clone the path array so that any possible references to sprite\r\n        //properties are converted into ordinary numbers\r\n        var pathArray = JSON.parse(JSON.stringify(originalPathArray));\r\n\r\n        //Figure out the duration, in frames, of each path section by\r\n        //dividing the `totalFrames` by the length of the `pathArray`\r\n        var frames = totalFrames / pathArray.length;\r\n\r\n        //Set the current point to 0, which will be the first waypoint\r\n        var currentPoint = 0;\r\n\r\n        //The `makePath` function creates a single tween between two points and\r\n        //then schedules the next path to be made after it\r\n        var makePath = function makePath(currentPoint) {\r\n          //Use the `makeTween` function to tween the sprite's\r\n          //x and y position\r\n          var tween = _this6.makeTween([\r\n            //Create the x axis tween between the first x value in the\r\n            //current point and the x value in the following point\r\n            [\r\n              sprite,\r\n              \"x\",\r\n              pathArray[currentPoint][0],\r\n              pathArray[currentPoint + 1][0],\r\n              frames,\r\n              type,\r\n            ],\r\n\r\n            //Create the y axis tween in the same way\r\n            [\r\n              sprite,\r\n              \"y\",\r\n              pathArray[currentPoint][1],\r\n              pathArray[currentPoint + 1][1],\r\n              frames,\r\n              type,\r\n            ],\r\n          ]);\r\n\r\n          //When the tween is complete, advance the `currentPoint` by one.\r\n          //Add an optional delay between path segments, and then make the\r\n          //next connecting path\r\n          tween.onComplete = function () {\r\n            //Advance to the next point\r\n            currentPoint += 1;\r\n\r\n            //If the sprite hasn't reached the end of the\r\n            //path, tween the sprite to the next point\r\n            if (currentPoint < pathArray.length - 1) {\r\n              _this6.wait(delayBetweenSections).then(function () {\r\n                tween = makePath(currentPoint);\r\n              });\r\n            }\r\n\r\n            //If we've reached the end of the path, optionally\r\n            //loop and yoyo it\r\n            else {\r\n              //Reverse the path if `loop` is `true`\r\n              if (loop) {\r\n                //Reverse the array if `yoyo` is `true`\r\n                if (yoyo) pathArray.reverse();\r\n\r\n                //Optionally wait before restarting\r\n                _this6.wait(delayBetweenSections).then(function () {\r\n                  //Reset the `currentPoint` to 0 so that we can\r\n                  //restart at the first point\r\n                  currentPoint = 0;\r\n\r\n                  //Set the sprite to the first point\r\n                  sprite.x = pathArray[0][0];\r\n                  sprite.y = pathArray[0][1];\r\n\r\n                  //Make the first new path\r\n                  tween = makePath(currentPoint);\r\n\r\n                  //... and so it continues!\r\n                });\r\n              }\r\n            }\r\n          };\r\n\r\n          //Return the path tween to the main function\r\n          return tween;\r\n        };\r\n\r\n        //Make the first path using the internal `makePath` function (below)\r\n        var tween = makePath(currentPoint);\r\n\r\n        //Pass the tween back to the main program\r\n        return tween;\r\n      },\r\n    },\r\n    {\r\n      key: \"walkCurve\",\r\n      value: function walkCurve(\r\n        sprite, //The sprite\r\n        pathArray //Delay, in milliseconds, between sections\r\n      ) {\r\n        var totalFrames =\r\n          arguments.length <= 2 || arguments[2] === undefined\r\n            ? 300\r\n            : arguments[2];\r\n        var type =\r\n          arguments.length <= 3 || arguments[3] === undefined\r\n            ? \"smoothstep\"\r\n            : arguments[3];\r\n        var loop =\r\n          arguments.length <= 4 || arguments[4] === undefined\r\n            ? false\r\n            : arguments[4];\r\n\r\n        var _this7 = this;\r\n\r\n        var yoyo =\r\n          arguments.length <= 5 || arguments[5] === undefined\r\n            ? false\r\n            : arguments[5];\r\n        var delayBeforeContinue =\r\n          arguments.length <= 6 || arguments[6] === undefined\r\n            ? 0\r\n            : arguments[6];\r\n\r\n        //Divide the `totalFrames` into sections for each part of the path\r\n        var frames = totalFrames / pathArray.length;\r\n\r\n        //Set the current curve to 0, which will be the first one\r\n        var currentCurve = 0;\r\n\r\n        //The `makePath` function\r\n        var makePath = function makePath(currentCurve) {\r\n          //Use the custom `followCurve` function to make\r\n          //a sprite follow a curve\r\n          var tween = _this7.followCurve(\r\n            sprite,\r\n            pathArray[currentCurve],\r\n            frames,\r\n            type\r\n          );\r\n\r\n          //When the tween is complete, advance the `currentCurve` by one.\r\n          //Add an optional delay between path segments, and then make the\r\n          //next path\r\n          tween.onComplete = function () {\r\n            currentCurve += 1;\r\n            if (currentCurve < pathArray.length) {\r\n              _this7.wait(delayBeforeContinue).then(function () {\r\n                tween = makePath(currentCurve);\r\n              });\r\n            }\r\n\r\n            //If we've reached the end of the path, optionally\r\n            //loop and reverse it\r\n            else {\r\n              if (loop) {\r\n                if (yoyo) {\r\n                  //Reverse order of the curves in the `pathArray`\r\n                  pathArray.reverse();\r\n\r\n                  //Reverse the order of the points in each curve\r\n                  pathArray.forEach(function (curveArray) {\r\n                    return curveArray.reverse();\r\n                  });\r\n                }\r\n\r\n                //After an optional delay, reset the sprite to the\r\n                //beginning of the path and make the next new path\r\n                _this7.wait(delayBeforeContinue).then(function () {\r\n                  currentCurve = 0;\r\n                  sprite.x = pathArray[0][0];\r\n                  sprite.y = pathArray[0][1];\r\n                  tween = makePath(currentCurve);\r\n                });\r\n              }\r\n            }\r\n          };\r\n\r\n          //Return the path tween to the main function\r\n          return tween;\r\n        };\r\n\r\n        //Make the first path\r\n        var tween = makePath(currentCurve);\r\n\r\n        //Pass the tween back to the main program\r\n        return tween;\r\n      },\r\n\r\n      //4. Utilities\r\n\r\n      /*\r\n    The `wait` method lets you set up a timed sequence of events\r\n       wait(1000)\r\n        .then(() => console.log(\"One\"))\r\n        .then(() => wait(1000))\r\n        .then(() => console.log(\"Two\"))\r\n        .then(() => wait(1000))\r\n        .then(() => console.log(\"Three\"))\r\n     */\r\n    },\r\n    {\r\n      key: \"wait\",\r\n      value: function wait() {\r\n        var duration =\r\n          arguments.length <= 0 || arguments[0] === undefined\r\n            ? 0\r\n            : arguments[0];\r\n\r\n        return new Promise(function (resolve, reject) {\r\n          setTimeout(resolve, duration);\r\n        });\r\n      },\r\n\r\n      //A utility to remove tweens from the game\r\n    },\r\n    {\r\n      key: \"removeTween\",\r\n      value: function removeTween(tweenObject) {\r\n        var _this8 = this;\r\n\r\n        //Remove the tween if `tweenObject` doesn't have any nested\r\n        //tween objects\r\n        if (!tweenObject.tweens) {\r\n          tweenObject.pause();\r\n          this.globalTweens.splice(this.globalTweens.indexOf(tweenObject), 1);\r\n\r\n          //Otherwise, remove the nested tween objects\r\n        } else {\r\n          tweenObject.pause();\r\n          tweenObject.tweens.forEach(function (element) {\r\n            _this8.globalTweens.splice(_this8.globalTweens.indexOf(element), 1);\r\n          });\r\n        }\r\n      },\r\n    },\r\n    {\r\n      key: \"update\",\r\n      value: function update() {\r\n        //Update all the tween objects in the `globalTweens` array\r\n        if (this.globalTweens.length > 0) {\r\n          for (var i = this.globalTweens.length - 1; i >= 0; i--) {\r\n            var tween = this.globalTweens[i];\r\n            if (tween) tween.update();\r\n          }\r\n        }\r\n      },\r\n    },\r\n  ]);\r\n\r\n  return Charm;\r\n})();\r\n\r\n/*\r\nCopyright (c) 2013 Marian Euent\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining a copy\r\nof this software and associated documentation files (the \"Software\"), to deal\r\nin the Software without restriction, including without limitation the rights\r\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\ncopies of the Software, and to permit persons to whom the Software is\r\nfurnished to do so, subject to the following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be included in\r\nall copies or substantial portions of the Software.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\nTHE SOFTWARE.\r\n*/\r\n\r\n/*\r\n\t@param {Object} object: Any object you want to tween. For example: PIXI.Sprite\r\n\t@param {String} property: the property which needs to be changed. Use \"property.property.property...\" if the property is little deeper. Pass \"\" to create a Wait-Tween\r\n\t@param {float} value: targetValue of tweening\r\n\t@param {int} frames: duration of the tween in frames.\r\n\t@param {boolean} autostart: starting when created? Set to false if you use it with ChainedTween\r\n\t\r\n\tuse examples:\r\n\tnew Tween(sprite, \"position.x\", 100, 60, true);\r\n\tnew Tween(sprite.position, \"x\", 100, 60, true);\r\n\t\r\n*/\r\nfunction Tween(object, property, value, frames, autostart) {\r\n  this.object = object;\r\n\r\n  var properties = property.split(\".\");\r\n  this.property = properties[properties.length - 1];\r\n  for (var i = 0; i < properties.length - 1; i++) {\r\n    this.object = this.object[properties[i]];\r\n  }\r\n\r\n  this.targetValue = value;\r\n  this.startValue;\r\n  this.active = autostart;\r\n  this.currentFrame = 0;\r\n  this.endFrame = frames;\r\n  this.onComplete;\r\n  this.onCompleteParams;\r\n  this.easing = Tween.noEase;\r\n\r\n  Tween.tweens.push(this);\r\n}\r\n\r\nTween.prototype.setOnComplete = function (callback, parameters) {\r\n  this.onComplete = callback;\r\n  this.onCompleteParams = parameters;\r\n};\r\n\r\nTween.prototype.start = function () {\r\n  this.active = true;\r\n};\r\n\r\nTween.prototype.initIterations = function () {\r\n  if (this.property != \"\") {\r\n    this.startValue = this.object[this.property];\r\n    this.targetValue = this.targetValue - this.object[this.property];\r\n  }\r\n};\r\n\r\nTween.prototype.update = function () {\r\n  if (!this.active) {\r\n    return false;\r\n  }\r\n  if (this.currentFrame == 0) {\r\n    this.initIterations();\r\n  }\r\n  this.currentFrame++;\r\n  if (this.currentFrame <= this.endFrame) {\r\n    if (this.property != \"\") {\r\n      var oldValue = this.object[this.property];\r\n      var newValue = this.easing(\r\n        this.currentFrame,\r\n        this.startValue,\r\n        this.targetValue,\r\n        this.endFrame\r\n      );\r\n      this.object[this.property] = newValue;\r\n    }\r\n    return false;\r\n  } else {\r\n    this.active = false;\r\n    if (this.onComplete != null) {\r\n      this.onComplete(this.onCompleteParams);\r\n    }\r\n    return true;\r\n  }\r\n};\r\n\r\nTween.tweens = [];\r\n// Call this every Frame of your Game/Application to keep the tweens running.\r\nTween.runTweens = function () {\r\n  for (var i = 0; i < Tween.tweens.length; i++) {\r\n    var tween = Tween.tweens[i];\r\n    if (tween.update()) {\r\n      var index = Tween.tweens.indexOf(tween);\r\n      if (index != -1) {\r\n        Tween.tweens.splice(index, 1);\r\n      }\r\n      i--;\r\n    }\r\n  }\r\n};\r\n\r\n// EASING\r\n// use example:\r\n// var tween = new Tween(sprite, \"alpha\", 0, 60, true);\r\n// tween.easing = Tween.outElastic;\r\n\r\nTween.noEase = function (t, b, c, d) {\r\n  t /= d;\r\n  return b + c * t;\r\n};\r\n\r\nTween.outElastic = function (t, b, c, d) {\r\n  var ts = (t /= d) * t;\r\n  var tc = ts * t;\r\n  return b + c * (33 * tc * ts + -106 * ts * ts + 126 * tc + -67 * ts + 15 * t);\r\n};\r\n\r\nTween.inElastic = function (t, b, c, d) {\r\n  var ts = (t /= d) * t;\r\n  var tc = ts * t;\r\n  return b + c * (56 * tc * ts + -105 * ts * ts + 60 * tc + -10 * ts);\r\n};\r\n\r\nTween.inOutQuintic = function (t, b, c, d) {\r\n  var ts = (t /= d) * t;\r\n  var tc = ts * t;\r\n  return b + c * (6 * tc * ts + -15 * ts * ts + 10 * tc);\r\n};\r\n\r\nTween.inQuintic = function (t, b, c, d) {\r\n  var ts = (t /= d) * t;\r\n  var tc = ts * t;\r\n  return b + c * (tc * ts);\r\n};\r\n\r\nTween.outQuintic = function (t, b, c, d) {\r\n  var ts = (t /= d) * t;\r\n  var tc = ts * t;\r\n  return b + c * (tc * ts + -5 * ts * ts + 10 * tc + -10 * ts + 5 * t);\r\n};\r\n\r\nTween.inCubic = function (t, b, c, d) {\r\n  var tc = (t /= d) * t * t;\r\n  return b + c * tc;\r\n};\r\n\r\nTween.inOutCubic = function (t, b, c, d) {\r\n  var ts = (t /= d) * t;\r\n  var tc = ts * t;\r\n  return b + c * (-2 * tc + 3 * ts);\r\n};\r\n\r\nTween.outCubic = function (t, b, c, d) {\r\n  var ts = (t /= d) * t;\r\n  var tc = ts * t;\r\n  return b + c * (tc + -3 * ts + 3 * t);\r\n};\r\n\r\n// CHAINED TWEEN\r\n\r\n/*\r\n\t@param {Array} tweens: Array of Tweens.\r\n\t\r\n\texample:\r\n\tvar tween1 = new Tween(sprite, \"position.x\", 100, 60, false);\r\n\tvar tween2 = new Tween(sprite, \"position.x\", 0, 60, false);\r\n\tnew ChainedTween([tween1, tween2]);\r\n*/\r\nfunction ChainedTween(tweens) {\r\n  this.tweens = tweens;\r\n  Tween.tweens.push(this);\r\n}\r\n\r\nChainedTween.prototype.update = function () {\r\n  if (this.tweens.length == 0) {\r\n    return true;\r\n  }\r\n  var currentTween = this.tweens[0];\r\n  if (!currentTween.active) {\r\n    currentTween.start();\r\n  }\r\n  var finished = currentTween.update();\r\n  if (finished) {\r\n    this.tweens.splice(0, 1);\r\n  }\r\n  return false;\r\n};\r\n\r\n// TODO: COMBINED TWEEN\r\nfunction CombinedTween(tweens) {}\r\n\r\nCombinedTween.prototype.start = function () {};\r\n\r\nCombinedTween.prototype.update = function () {};\r\n\r\n// Main part\r\nfunction showTermsConditions() {\r\n  return false;\r\n}\r\nvar showCashier = function () {\r\n  return false;\r\n};\r\nPIXI.SCALE_MODES.DEFAULT = PIXI.SCALE_MODES.NEAREST;\r\nPIXI.utils._saidHello = true;\r\n// initialization\r\nvar names = {\r\n  1: [\"ENG\", \"England\"],\r\n  2: [\"FRA\", \"France\"],\r\n  3: [\"ITA\", \"Italy\"],\r\n  4: [\"BEL\", \"Belgium\"],\r\n  5: [\"GER\", \"Germany\"],\r\n  6: [\"SPA\", \"Spain\"],\r\n  7: [\"POR\", \"Portugal\"],\r\n  8: [\"AUS\", \"Austria\"],\r\n  9: [\"RUS\", \"Russia\"],\r\n  10: [\"IRE\", \"Ireland\"],\r\n  11: [\"WAL\", \"Wales\"],\r\n  12: [\"ROM\", \"Romania\"],\r\n  13: [\"CRO\", \"Croatia\"],\r\n  14: [\"TUR\", \"Turkey\"],\r\n  15: [\"SWE\", \"Sweden\"],\r\n  16: [\"POL\", \"Poland\"],\r\n  17: [\"SWZ\", \"Switzerland\"],\r\n  18: [\"CZR\", \"C. Republic\"],\r\n  19: [\"HUN\", \"Hungary\"],\r\n  20: [\"UKR\", \"Ukraine\"],\r\n  21: [\"NIR\", \"N. Ireland\"],\r\n  22: [\"ICE\", \"Iceland\"],\r\n  23: [\"SLO\", \"Slovakia\"],\r\n  24: [\"ALB\", \"Albania\"],\r\n};\r\nvar messages = {\r\n  winner: \"CONGRATULATIONS!\",\r\n  loser:\r\n    \"NO LUCK THIS TIME,\\nCOME BACK AGAIN TO TRY TO\\n WIN ONE OF OUR GREAT PRIZES\",\r\n  top_winner: \"YOU HAVE WON\",\r\n  title_text: \"CHOOSE A TEAM TO START!\",\r\n  terms_conditions: \"\",\r\n  play: \"PLAY\",\r\n  init_message: \"\",\r\n};\r\nvar timers = [0, 1, 0, 1, 0, 1, 0, 1, 0, 1];\r\nvar pr = \"10_cashback_en\";\r\nvar tn = \"TK:Guest\";\r\nvar lg = \"en\";\r\nvar stage = new PIXI.Container();\r\nvar c = new Charm(PIXI);\r\nvar loader = PIXI.loader;\r\nvar resources = PIXI.loader.resources;\r\nvar prfx = \"./euro2016_penalty/\";\r\nvar anim_logos;\r\n\r\n// Containers/Sprites\r\nvar renderer = PIXI.autoDetectRenderer(480, 720, { backgroundColor: 0x242424 });\r\nvar background_container = new PIXI.Container();\r\nvar container_flashes = new PIXI.Container();\r\nvar container_logos = new PIXI.Container();\r\nvar background;\r\nvar lights;\r\nvar sky;\r\nvar flash;\r\nvar loading_container = new PIXI.Container();\r\nvar c_url = \"\";\r\n// Scenes\r\nvar scene1;\r\nvar scene2;\r\nvar scene3;\r\nvar scene4;\r\n\r\nloader\r\n  .add(prfx + \"backgroundfull.jpg\")\r\n  .add(prfx + \"page_logo.png\")\r\n  .add(prfx + \"lights.png\")\r\n  .add(prfx + \"flash.png\")\r\n  .add(prfx + \"sky.jpg\")\r\n  .add(prfx + \"container_box.png\")\r\n  .add(prfx + \"play.png\")\r\n  .add(prfx + \"logo.png\")\r\n  .add(prfx + \"arrow_left.png\")\r\n  .add(prfx + \"arrow_lefth.png\")\r\n  .add(prfx + \"arrow_right.png\")\r\n  .add(prfx + \"arrow_righth.png\")\r\n  .add(prfx + \"football.png\")\r\n  .add(prfx + \"gloves.png\")\r\n  .add(prfx + \"gloves2.png\")\r\n  .add(prfx + \"container_goal.png\")\r\n  .add(prfx + \"container_score.png\")\r\n  .add(prfx + \"football2.png\")\r\n  .add(prfx + \"arco.png\")\r\n  .add(prfx + \"arco-0-0.png\")\r\n  .add(prfx + \"arco-1-0.png\")\r\n  .add(prfx + \"arco-2-0.png\")\r\n  .add(prfx + \"arco-0-1.png\")\r\n  .add(prfx + \"arco-1-1.png\")\r\n  .add(prfx + \"arco-2-1.png\")\r\n  .add(prfx + \"player_icon.png\")\r\n  .add(prfx + \"empty_score.png\")\r\n  .add(prfx + \"good_score.png\")\r\n  .add(prfx + \"bad_score.png\")\r\n  .add(prfx + \"selected_score.png\")\r\n  .add(prfx + \"messages/goal_\" + lg + \".png\")\r\n  .add(prfx + \"messages/goal_auto_\" + lg + \".png\")\r\n  .add(prfx + \"messages/missed_\" + lg + \".png\")\r\n  .add(prfx + \"messages/saved_\" + lg + \".png\")\r\n  .add(prfx + \"white_mark.png\")\r\n  .add(prfx + \"small_logo.png\")\r\n  .add(prfx + \"messages/congrats_\" + lg + \".png\")\r\n  .add(prfx + \"messages/try_again_\" + lg + \".png\")\r\n  .add(prfx + \"red_card.png\")\r\n  .add(prfx + \"messages/\" + pr + \".png\")\r\n  .add(prfx + \"flags/1.png\")\r\n  .add(prfx + \"flags/2.png\")\r\n  .add(prfx + \"flags/3.png\")\r\n  .add(prfx + \"flags/4.png\")\r\n  .add(prfx + \"flags/5.png\")\r\n  .add(prfx + \"flags/6.png\")\r\n  .add(prfx + \"flags/7.png\")\r\n  .add(prfx + \"flags/8.png\")\r\n  .add(prfx + \"flags/9.png\")\r\n  .add(prfx + \"flags/10.png\")\r\n  .add(prfx + \"flags/11.png\")\r\n  .add(prfx + \"flags/12.png\")\r\n  .add(prfx + \"flags/13.png\")\r\n  .add(prfx + \"flags/14.png\")\r\n  .add(prfx + \"flags/15.png\")\r\n  .add(prfx + \"flags/16.png\")\r\n  .add(prfx + \"flags/17.png\")\r\n  .add(prfx + \"flags/18.png\")\r\n  .add(prfx + \"flags/19.png\")\r\n  .add(prfx + \"flags/20.png\")\r\n  .add(prfx + \"flags/21.png\")\r\n  .add(prfx + \"flags/22.png\")\r\n  .add(prfx + \"flags/23.png\")\r\n  .add(prfx + \"flags/24.png\")\r\n  .on(\"progress\", loadProgressHandler)\r\n  .load(setup);\r\n\r\nfunction loadProgressHandler(loader, resource) {\r\n  var div_overlay = document.getElementById(\"message_overlay\");\r\n  div_overlay.innerHTML = loader.progress.toFixed(2) + \" % \";\r\n  //div_overlay.style.opacity = (100 - (loader.progress).toFixed(1))*(0.01);\r\n}\r\n\r\nfunction setup() {\r\n  document.getElementById(\"overlay_game\").style.display = \"none\";\r\n  flash = new PIXI.Sprite(resources[prfx + \"flash.png\"].texture);\r\n  sky = new PIXI.Sprite(resources[prfx + \"sky.jpg\"].texture);\r\n  lights = new PIXI.Sprite(resources[prfx + \"lights.png\"].texture);\r\n  background = new PIXI.Sprite(resources[prfx + \"backgroundfull.jpg\"].texture);\r\n\r\n  // create a renderer instance.\r\n\r\n  renderer.original_width = renderer.width;\r\n  renderer.original_height = renderer.height;\r\n\r\n  // add the renderer view element to the DOM\r\n  document.getElementById(\"container_shoot\").appendChild(renderer.view);\r\n\r\n  window.addEventListener(\"resize\", resize);\r\n  stage.transition_rate = 60;\r\n\r\n  background.anchor.x = 0;\r\n  background.anchor.y = 0;\r\n  background.position.x = 0;\r\n  background.position.y = 212;\r\n\r\n  flash.anchor.x = 0;\r\n  flash.anchor.y = 0;\r\n\r\n  container_flashes.position.x = 0;\r\n  container_flashes.position.y = 212;\r\n\r\n  container_logos.position.x = -480;\r\n  container_logos.position.y = 378;\r\n\r\n  flash.position.x = 720;\r\n  flash.position.y = 200;\r\n\r\n  lights.anchor.x = 0;\r\n  lights.anchor.y = 0;\r\n  lights.position.x = 0;\r\n  lights.position.y = 47;\r\n\r\n  sky.anchor.x = 0;\r\n  sky.anchor.y = 0;\r\n  sky.position.x = 0;\r\n  sky.position.y = 0;\r\n  c.slide(sky, -900, sky.position.y, 3500, \"linear\", true);\r\n\r\n  background_container.position.x = 0;\r\n  background_container.position.y = -170;\r\n\r\n  createFlashes();\r\n  createLogos();\r\n\r\n  background_container.addChild(sky);\r\n  background_container.addChild(lights);\r\n  background_container.addChild(background);\r\n  background_container.addChild(container_logos);\r\n  background_container.addChild(container_flashes);\r\n\r\n  stage.addChild(background_container);\r\n  scene3 = new Scene3(stage, renderer, background_container);\r\n  scene2 = new Scene2(stage, renderer, scene3, background_container);\r\n  scene1 = new Scene1(stage, renderer, scene2);\r\n  scene1.startScene();\r\n\r\n  renderImage();\r\n  resize();\r\n}\r\n\r\nfunction renderImage() {\r\n  requestAnimationFrame(renderImage);\r\n  Tween.runTweens();\r\n  c.update();\r\n\r\n  renderer.render(stage);\r\n}\r\n\r\nfunction resize() {\r\n  var height_new;\r\n  var width_new;\r\n  var ratio2 = window.devicePixelRatio || 1;\r\n  var width = window.innerWidth > 0 ? window.innerWidth : screen.width;\r\n  var height = window.innerHeight > 0 ? window.innerHeight : screen.height;\r\n  var w = width * ratio2;\r\n  var h = height * ratio2;\r\n  var orientation = w / h;\r\n  if (orientation >= 1) {\r\n    renderer.resize(720, 480);\r\n    height_new =\r\n      window.document.documentElement.clientHeight <\r\n      (window.document.documentElement.clientWidth / 720) * 480\r\n        ? window.document.documentElement.clientHeight < 480\r\n          ? window.document.documentElement.clientHeight\r\n          : 480\r\n        : window.document.documentElement.clientWidth < 720\r\n        ? (window.document.documentElement.clientWidth / 720) * 480\r\n        : 480;\r\n    width_new =\r\n      window.document.documentElement.clientHeight <\r\n      (window.document.documentElement.clientWidth / 720) * 480\r\n        ? window.document.documentElement.clientHeight < 480\r\n          ? (window.document.documentElement.clientHeight / 480) * 720\r\n          : 720\r\n        : window.document.documentElement.clientWidth < 720\r\n        ? window.document.documentElement.clientWidth\r\n        : 720;\r\n    document.getElementsByTagName(\"canvas\")[0].style.height = height_new + \"px\";\r\n    document.getElementsByTagName(\"canvas\")[0].style.width = width_new + \"px\";\r\n    document.getElementsByTagName(\"canvas\")[0].style.top =\r\n      (window.document.documentElement.clientHeight <\r\n      (window.document.documentElement.clientWidth < 720\r\n        ? (window.document.documentElement.clientWidth / 720) * 480\r\n        : 480)\r\n        ? 0\r\n        : (window.document.documentElement.clientHeight -\r\n            (window.document.documentElement.clientWidth < 720\r\n              ? (window.document.documentElement.clientWidth / 720) * 480\r\n              : 480)) /\r\n          2) + \"px\";\r\n    background.position.y = 212;\r\n    lights.position.y = 47;\r\n    lights.position.x = 0;\r\n    container_flashes.position.y = 212;\r\n    anim_logos.pause();\r\n    container_logos.position.y = 378;\r\n    anim_logos = c.slide(\r\n      container_logos,\r\n      container_logos.position.x + 720,\r\n      container_logos.position.y,\r\n      1000,\r\n      \"linear\",\r\n      true\r\n    );\r\n    renderer.original_width = 720;\r\n    renderer.original_height = 480;\r\n  } else {\r\n    renderer.resize(480, 720);\r\n    height_new =\r\n      window.document.documentElement.clientHeight <\r\n      (window.document.documentElement.clientWidth / 480) * 720\r\n        ? window.document.documentElement.clientHeight < 720\r\n          ? window.document.documentElement.clientHeight\r\n          : 720\r\n        : window.document.documentElement.clientWidth < 480\r\n        ? (window.document.documentElement.clientWidth / 480) * 720\r\n        : 720;\r\n    width_new =\r\n      window.document.documentElement.clientHeight <\r\n      (window.document.documentElement.clientWidth / 480) * 720\r\n        ? window.document.documentElement.clientHeight < 720\r\n          ? (window.document.documentElement.clientHeight / 720) * 480\r\n          : 480\r\n        : window.document.documentElement.clientWidth < 480\r\n        ? window.document.documentElement.clientWidth\r\n        : 480;\r\n    document.getElementsByTagName(\"canvas\")[0].style.height = height_new + \"px\";\r\n    document.getElementsByTagName(\"canvas\")[0].style.width = width_new + \"px\";\r\n    document.getElementsByTagName(\"canvas\")[0].style.top =\r\n      (window.document.documentElement.clientHeight <\r\n      (window.document.documentElement.clientWidth < 480\r\n        ? (window.document.documentElement.clientWidth / 480) * 720\r\n        : 720)\r\n        ? 0\r\n        : (window.document.documentElement.clientHeight -\r\n            (window.document.documentElement.clientWidth < 480\r\n              ? (window.document.documentElement.clientWidth / 480) * 720\r\n              : 720)) /\r\n          2) + \"px\";\r\n    background.position.y = 340;\r\n    lights.position.y = 180;\r\n    lights.position.x = -95;\r\n    container_flashes.position.y = 340;\r\n    anim_logos.pause();\r\n    container_logos.position.y = 505;\r\n    anim_logos = c.slide(\r\n      container_logos,\r\n      container_logos.position.x + 480,\r\n      container_logos.position.y,\r\n      1000,\r\n      \"linear\",\r\n      true\r\n    );\r\n    renderer.original_width = 480;\r\n    renderer.original_height = 720;\r\n  }\r\n\r\n  document.getElementById(\"container_shoot\").style.width = width_new + \"px\";\r\n  scene3.repositionElements(orientation);\r\n  scene2.repositionElements(orientation);\r\n  scene1.repositionElements(orientation);\r\n}\r\n\r\nfunction createFlashes() {\r\n  var flash_temp;\r\n  var temp_size;\r\n  var frames;\r\n  for (var i = 0; i < 21; i++) {\r\n    flash_temp = new PIXI.Sprite(resources[prfx + \"flash.png\"].texture);\r\n    flash_temp.anchor.x = 0.5;\r\n    flash_temp.anchor.y = 0.5;\r\n    temp_size = Math.floor(Math.random() * 60) + 20;\r\n    flash_temp.width = temp_size;\r\n    flash_temp.height = temp_size;\r\n    flash_temp.position.x = Math.floor(Math.random() * 2160) + 20;\r\n    flash_temp.position.y = Math.floor(Math.random() * 150) + 20;\r\n    frames = Math.floor(Math.random() * 8) + 6;\r\n    c.pulse(flash_temp, frames);\r\n    container_flashes.addChild(flash_temp);\r\n  }\r\n}\r\n\r\nfunction createLogos() {\r\n  var logo_temp;\r\n  for (var i = 0; i < 10; i++) {\r\n    logo_temp = new PIXI.Sprite(resources[prfx + \"page_logo.png\"].texture);\r\n    logo_temp.anchor.x = 0.5;\r\n    logo_temp.anchor.y = 0.5;\r\n    logo_temp.anchor.y = 0.5;\r\n    logo_temp.position.x = i * 240;\r\n    logo_temp.position.y = 25;\r\n    animateLogo(logo_temp, i);\r\n    if (i % 2 == 0) logo_temp.visible = false;\r\n    container_logos.addChild(logo_temp);\r\n  }\r\n  anim_logos = c.slide(\r\n    container_logos,\r\n    container_logos.position.x + 720,\r\n    container_logos.position.y,\r\n    1000,\r\n    \"linear\",\r\n    true\r\n  );\r\n}\r\nfunction animateLogo(param, i) {\r\n  if (timers[i] == 0) {\r\n    setTimeout(function () {\r\n      param.visible = true;\r\n      timers[i] = 1;\r\n    }, 2000);\r\n  } else {\r\n    setTimeout(function () {\r\n      param.visible = false;\r\n      timers[i] = 0;\r\n    }, 2000);\r\n  }\r\n  requestAnimationFrame(function () {\r\n    animateLogo(param, i);\r\n  });\r\n}\r\n\r\n/**\r\n * JS code for the stage 1\r\n */\r\nvar outrenderer;\r\nvar outstage;\r\nvar out_next_scene1;\r\nvar active1 = 0;\r\nvar page_flags = 1;\r\nvar mask_menu = new PIXI.Graphics();\r\nvar container_flags = new PIXI.Container();\r\nvar container_button = new PIXI.Container();\r\nvar sub_container_flags = new PIXI.Container();\r\nvar sub_container_flags2 = new PIXI.Container();\r\nvar container_1;\r\nvar containerbutton;\r\nvar logo;\r\nvar left_arrow;\r\nvar right_arrow;\r\nvar flags = [];\r\nvar text_terms_conditions;\r\nvar text_temp;\r\nvar prize_init;\r\nvar text_play;\r\n\r\nvar text_init = new PIXI.Text(messages[\"init_message\"], {\r\n  font: \"italic 19px Arial\",\r\n  fill: \"white\",\r\n  align: \"center\",\r\n});\r\n\r\nfunction Scene1(stage, renderer, next_scene) {\r\n  // Initialize sprites 1\r\n\r\n  container_1 = new PIXI.Sprite(resources[prfx + \"container_box.png\"].texture);\r\n  containerbutton = new PIXI.Sprite(resources[prfx + \"play.png\"].texture);\r\n  logo = new PIXI.Sprite(resources[prfx + \"logo.png\"].texture);\r\n  left_arrow = new PIXI.Sprite(resources[prfx + \"arrow_left.png\"].texture);\r\n  right_arrow = new PIXI.Sprite(resources[prfx + \"arrow_right.png\"].texture);\r\n  prize_init = new PIXI.Sprite(\r\n    resources[prfx + \"messages/\" + pr + \".png\"].texture\r\n  );\r\n\r\n  out_next_scene1 = next_scene;\r\n  outstage = stage;\r\n  outrenderer = renderer;\r\n\r\n  logo.anchor.x = 0.5;\r\n  logo.anchor.y = 0.5;\r\n  logo.height = 132;\r\n  logo.width = 250;\r\n  logo.position.x = outrenderer.original_width / 2;\r\n  logo.position.y = 66;\r\n\r\n  var positionx = 0;\r\n  var flag;\r\n  for (var i = 0; i < 24; i++) {\r\n    flag = new PIXI.Sprite(\r\n      resources[prfx + \"flags/\" + (i + 1) + \".png\"].texture\r\n    );\r\n    flags.push(flag);\r\n  }\r\n\r\n  container_1.position.x = 0;\r\n  container_1.position.y = 0;\r\n  container_1.height = 420;\r\n  container_1.width = 420;\r\n  container_flags.addChild(container_1);\r\n\r\n  prize_init.anchor.x = 0.5;\r\n  prize_init.anchor.y = 0.5;\r\n  prize_init.position.x = container_1.width / 2;\r\n  prize_init.position.y = 180;\r\n  prize_init.height = 180;\r\n  prize_init.width = 180;\r\n  prize_init.mask = mask_menu;\r\n  container_flags.addChild(prize_init);\r\n\r\n  text_terms_conditions = new PIXI.Text(messages[\"terms_conditions\"], {\r\n    font: \"15px Arial\",\r\n    fill: \"white\",\r\n    align: \"center\",\r\n  });\r\n  text_terms_conditions.anchor.x = 0.5;\r\n  text_terms_conditions.anchor.y = 0.5;\r\n  text_terms_conditions.position.x = container_1.width / 2;\r\n  text_terms_conditions.position.y = 375;\r\n  text_terms_conditions.interactive = true;\r\n  text_terms_conditions.buttonMode = true;\r\n  text_terms_conditions.defaultCursor = \"pointer\";\r\n  text_terms_conditions.mouseup = text_terms_conditions.touchend = function () {\r\n    showTermsConditions();\r\n  };\r\n\r\n  container_flags.addChild(text_terms_conditions);\r\n  text_temp = new PIXI.Text(messages[\"title_text\"], {\r\n    font: \"italic 19px Arial\",\r\n    fill: \"white\",\r\n    align: \"center\",\r\n  });\r\n  text_temp.anchor.x = 0.5;\r\n  text_temp.anchor.y = 0.5;\r\n  text_temp.position.x = container_1.width / 2;\r\n  text_temp.position.y = 60 + 420;\r\n  container_flags.addChild(text_temp);\r\n  container_flags.position.x = outrenderer.original_width / 2 - 420 / 2;\r\n  container_flags.position.y = outrenderer.original_height / 2 - 210;\r\n  sub_container_flags.position.x = 115;\r\n  sub_container_flags.position.y = 30 + 420;\r\n  var row = 1;\r\n  var col = 1;\r\n  var name_flag;\r\n  var flag_mini_container;\r\n\r\n  for (var i = 0; i < 12; i++) {\r\n    name_flag = new PIXI.Text(names[i + 1][0], {\r\n      font: \"bold 16px Arial\",\r\n      fill: \"white\",\r\n      align: \"center\",\r\n    });\r\n    name_flag.anchor.x = 0.5;\r\n    name_flag.anchor.y = 0.5;\r\n    name_flag.position.x = 0;\r\n    name_flag.position.y = 35;\r\n    flag_mini_container = new PIXI.Container();\r\n    if (i == 4) {\r\n      col = 1;\r\n      row = 2;\r\n      positionx = 0;\r\n    }\r\n    if (i == 8) {\r\n      col = 1;\r\n      row = 3;\r\n      positionx = 0;\r\n    }\r\n\r\n    flags[i].anchor.x = 0.5;\r\n    flags[i].anchor.y = 0.5;\r\n    flags[i].width = 45;\r\n    flags[i].height = 45;\r\n    flags[i].idflag = i + 1;\r\n    flags[i].interactive = true;\r\n    flags[i].buttonMode = true;\r\n    flags[i].defaultCursor = \"pointer\";\r\n    flags[i].mouseup = flags[i].touchend = function () {\r\n      Scene1.prototype.clearScene(this.idflag);\r\n    };\r\n    flags[i].mouseover = function () {\r\n      this.width = 50;\r\n      this.height = 50;\r\n    };\r\n    flags[i].mouseout = function () {\r\n      this.width = 45;\r\n      this.height = 45;\r\n    };\r\n    flag_mini_container.addChild(flags[i]);\r\n    flag_mini_container.addChild(name_flag);\r\n    flag_mini_container.position.x = 65 * col * positionx;\r\n    positionx += 1;\r\n    flag_mini_container.position.y = 85 * row;\r\n\r\n    sub_container_flags.addChild(flag_mini_container);\r\n  }\r\n  sub_container_flags2.position.x = 420;\r\n  sub_container_flags2.position.y = 30 + 420;\r\n  row = 1;\r\n  col = 1;\r\n  positionx = 0;\r\n  for (var i = 12; i < 24; i++) {\r\n    name_flag = new PIXI.Text(names[i + 1][0], {\r\n      font: \"bold 16px Arial\",\r\n      fill: \"white\",\r\n      align: \"center\",\r\n    });\r\n    name_flag.anchor.x = 0.5;\r\n    name_flag.anchor.y = 0.5;\r\n    name_flag.position.x = 0;\r\n    name_flag.position.y = 35;\r\n    flag_mini_container = new PIXI.Container();\r\n    if (i == 16) {\r\n      col = 1;\r\n      row = 2;\r\n      positionx = 0;\r\n    }\r\n    if (i == 20) {\r\n      col = 1;\r\n      row = 3;\r\n      positionx = 0;\r\n    }\r\n\r\n    flags[i].anchor.x = 0.5;\r\n    flags[i].anchor.y = 0.5;\r\n    flags[i].width = 45;\r\n    flags[i].height = 45;\r\n    flags[i].idflag = i + 1;\r\n    flags[i].interactive = true;\r\n    flags[i].buttonMode = true;\r\n    flags[i].defaultCursor = \"pointer\";\r\n    flags[i].mouseup = flags[i].touchend = function () {\r\n      Scene1.prototype.clearScene(this.idflag);\r\n    };\r\n    flags[i].mouseover = function () {\r\n      this.width = 50;\r\n      this.height = 50;\r\n    };\r\n    flags[i].mouseout = function () {\r\n      this.width = 45;\r\n      this.height = 45;\r\n    };\r\n    flag_mini_container.addChild(flags[i]);\r\n    flag_mini_container.addChild(name_flag);\r\n    flag_mini_container.position.x = 65 * col * positionx;\r\n    positionx += 1;\r\n    flag_mini_container.position.y = 85 * row;\r\n    sub_container_flags2.addChild(flag_mini_container);\r\n  }\r\n  mask_menu.beginFill(0xffff00);\r\n  mask_menu.drawRect(0, 0, 392, 392);\r\n  mask_menu.endFill();\r\n  sub_container_flags.mask = mask_menu;\r\n  sub_container_flags2.mask = mask_menu;\r\n\r\n  left_arrow.anchor.x = 0.5;\r\n  left_arrow.anchor.y = 0.5;\r\n  left_arrow.width = 40;\r\n  left_arrow.height = 40;\r\n  left_arrow.position.x = 40;\r\n  left_arrow.position.y = 195 + 420;\r\n  left_arrow.interactive = true;\r\n  left_arrow.buttonMode = true;\r\n  left_arrow.defaultCursor = \"pointer\";\r\n  left_arrow.mouseup = left_arrow.touchend = function () {\r\n    if (page_flags == 2) {\r\n      new Tween(\r\n        sub_container_flags,\r\n        \"position.x\",\r\n        sub_container_flags.position.x + 420,\r\n        25,\r\n        true\r\n      );\r\n      new Tween(\r\n        sub_container_flags2,\r\n        \"position.x\",\r\n        sub_container_flags2.position.x + 305,\r\n        25,\r\n        true\r\n      );\r\n      page_flags = 1;\r\n    }\r\n  };\r\n  left_arrow.mouseover = function () {\r\n    this.width = 45;\r\n    this.height = 45;\r\n    this.texture = resources[prfx + \"arrow_lefth.png\"].texture;\r\n  };\r\n  left_arrow.mouseout = function () {\r\n    this.width = 40;\r\n    this.height = 40;\r\n    this.texture = resources[prfx + \"arrow_left.png\"].texture;\r\n  };\r\n\r\n  right_arrow.anchor.x = 0.5;\r\n  right_arrow.anchor.y = 0.5;\r\n  right_arrow.width = 40;\r\n  right_arrow.height = 40;\r\n  right_arrow.position.x = 380;\r\n  right_arrow.position.y = 195 + 420;\r\n  right_arrow.interactive = true;\r\n  right_arrow.buttonMode = true;\r\n  right_arrow.defaultCursor = \"pointer\";\r\n  right_arrow.mouseup = right_arrow.touchend = function () {\r\n    if (page_flags == 1) {\r\n      new Tween(\r\n        sub_container_flags,\r\n        \"position.x\",\r\n        sub_container_flags.position.x - 420,\r\n        25,\r\n        true\r\n      );\r\n      new Tween(\r\n        sub_container_flags2,\r\n        \"position.x\",\r\n        sub_container_flags2.position.x - 305,\r\n        25,\r\n        true\r\n      );\r\n      page_flags = 2;\r\n    }\r\n  };\r\n\r\n  right_arrow.mouseover = function () {\r\n    this.width = 45;\r\n    this.height = 45;\r\n    this.texture = resources[prfx + \"arrow_righth.png\"].texture;\r\n  };\r\n  right_arrow.mouseout = function () {\r\n    this.width = 40;\r\n    this.height = 40;\r\n    this.texture = resources[prfx + \"arrow_right.png\"].texture;\r\n  };\r\n  right_arrow.mask = mask_menu;\r\n  left_arrow.mask = mask_menu;\r\n  text_temp.mask = mask_menu;\r\n  text_terms_conditions.mask = mask_menu;\r\n  container_flags.addChild(sub_container_flags);\r\n  container_flags.addChild(sub_container_flags2);\r\n  container_flags.addChild(mask_menu);\r\n  container_flags.addChild(left_arrow);\r\n  container_flags.addChild(right_arrow);\r\n\r\n  containerbutton.position.x = 0;\r\n  containerbutton.position.y = 0;\r\n  containerbutton.height = 38;\r\n  containerbutton.width = 128;\r\n  containerbutton.interactive = true;\r\n  containerbutton.buttonMode = true;\r\n  containerbutton.defaultCursor = \"pointer\";\r\n  containerbutton.mouseup = containerbutton.touchend = function () {\r\n    moveToFlags();\r\n  };\r\n\r\n  container_button.addChild(containerbutton);\r\n\r\n  text_play = new PIXI.Text(messages[\"play\"], {\r\n    font: \"italic 19px Arial\",\r\n    fill: \"white\",\r\n    align: \"center\",\r\n  });\r\n  text_play.anchor.x = 0.5;\r\n  text_play.anchor.y = 0.5;\r\n  text_play.position.x = containerbutton.width / 2;\r\n  text_play.position.y = containerbutton.height / 2;\r\n\r\n  text_init.anchor.x = 0.5;\r\n  text_init.anchor.y = 0.5;\r\n  text_init.position.x = container_1.width / 2;\r\n  text_init.position.y = 60;\r\n  container_flags.addChild(text_init);\r\n\r\n  container_button.addChild(text_play);\r\n  container_button.position.x = 146;\r\n  container_button.position.y = 320;\r\n  container_button.mask = mask_menu;\r\n  container_flags.addChild(container_button);\r\n  outstage.addChild(container_flags);\r\n  outstage.addChild(logo);\r\n}\r\n\r\nScene1.prototype.startScene = function () {\r\n  active1 = 1;\r\n  c.scale(prize_init, 1, 1, 22);\r\n  requestAnimationFrame(animatePrizeWinnerInit);\r\n};\r\n\r\nScene1.prototype.clearScene = function (idflag) {\r\n  var rand_number;\r\n  var cont_tween = new Tween(\r\n    container_flags,\r\n    \"position.x\",\r\n    container_flags.position.x - outrenderer.original_width,\r\n    outstage.transition_rate,\r\n    true\r\n  );\r\n  cont_tween.setOnComplete(function (param) {\r\n    param.visible = false;\r\n  }, container_flags);\r\n  new Tween(\r\n    logo,\r\n    \"position.x\",\r\n    logo.position.x - outrenderer.original_width,\r\n    outstage.transition_rate,\r\n    true\r\n  );\r\n  flags.splice(idflag - 1, 1);\r\n  do {\r\n    rand_number = Math.floor(Math.random() * flags.length);\r\n  } while (\r\n    rand_number == 0 ||\r\n    rand_number >= flags.length ||\r\n    typeof flags[rand_number] == \"undefined\"\r\n  );\r\n  var random_flag = flags[rand_number];\r\n  out_next_scene1.startScene(idflag, random_flag.idflag);\r\n  active1 = 0;\r\n};\r\n\r\nScene1.prototype.repositionElements = function (orientation) {\r\n  if (active1 === 0) {\r\n    container_flags.position.x =\r\n      container_flags.position.x - outrenderer.original_width;\r\n    logo.position.x = logo.position.x - outrenderer.original_width;\r\n  } else {\r\n    container_flags.position.x = outrenderer.original_width / 2 - 420 / 2;\r\n    logo.position.x = outrenderer.original_width / 2;\r\n  }\r\n  if (orientation >= 1) {\r\n    if (active1 === 1) container_flags.position.x = 285;\r\n    logo.position.y = 240;\r\n    container_flags.position.y = outrenderer.original_height / 2 - 210;\r\n    if (active1 === 1) logo.position.x = 155;\r\n  } else {\r\n    logo.position.y = 120;\r\n    if (active1 === 1)\r\n      container_flags.position.x = outrenderer.original_width / 2 - 420 / 2;\r\n    container_flags.position.y = 220;\r\n  }\r\n\r\n  //container_flags.position.y = (orientation >= 1 ? outrenderer.original_height/2 - (370/2):outrenderer.original_height/2 - ((370/2)-50));\r\n};\r\nScene1.prototype.isActive = function () {\r\n  return active1 === 1 ? true : false;\r\n};\r\nvar yspeed_init = 0.6;\r\nfunction animatePrizeWinnerInit() {\r\n  if (prize_init.position.y > 205) {\r\n    // bounce the circle\r\n    yspeed_init *= -1;\r\n    // affix to the bottom of the stage\r\n    prize_init.position.y = 205;\r\n  } else if (prize_init.position.y < 180) {\r\n    // bounce the circle\r\n    yspeed_init *= -1;\r\n    // affix to the top of the stage\r\n    prize_init.position.y = 180;\r\n  }\r\n  prize_init.position.y += yspeed_init;\r\n  requestAnimationFrame(animatePrizeWinnerInit);\r\n}\r\n\r\nfunction moveToFlags() {\r\n  var prize_init_tween = c.slide(\r\n    prize_init,\r\n    prize_init.position.x,\r\n    prize_init.position.y - 420,\r\n    outstage.transition_rate,\r\n    \"smoothstep\"\r\n  );\r\n  prize_init_tween.onComplete = function () {\r\n    prize_init.visible = false;\r\n  };\r\n  c.slide(\r\n    container_button,\r\n    container_button.position.x,\r\n    container_button.position.y - 420,\r\n    outstage.transition_rate,\r\n    \"smoothstep\"\r\n  );\r\n  c.slide(\r\n    text_temp,\r\n    text_temp.position.x,\r\n    text_temp.position.y - 420,\r\n    outstage.transition_rate,\r\n    \"smoothstep\"\r\n  );\r\n  c.slide(\r\n    text_init,\r\n    text_init.position.x,\r\n    text_init.position.y - 420,\r\n    outstage.transition_rate,\r\n    \"smoothstep\"\r\n  );\r\n  c.slide(\r\n    sub_container_flags,\r\n    sub_container_flags.position.x,\r\n    sub_container_flags.position.y - 420,\r\n    outstage.transition_rate,\r\n    \"smoothstep\"\r\n  );\r\n  c.slide(\r\n    sub_container_flags2,\r\n    sub_container_flags2.position.x,\r\n    sub_container_flags2.position.y - 420,\r\n    outstage.transition_rate,\r\n    \"smoothstep\"\r\n  );\r\n  c.slide(\r\n    left_arrow,\r\n    left_arrow.position.x,\r\n    left_arrow.position.y - 420,\r\n    outstage.transition_rate,\r\n    \"smoothstep\"\r\n  );\r\n  c.slide(\r\n    right_arrow,\r\n    right_arrow.position.x,\r\n    right_arrow.position.y - 420,\r\n    outstage.transition_rate,\r\n    \"smoothstep\"\r\n  );\r\n}\r\n\r\n/**\r\n * JS code for the stage 2\r\n */\r\n\r\nvar outrenderer;\r\nvar outstage;\r\nvar out_next_scene2;\r\nvar outbackground;\r\nvar current_turn = 0;\r\nvar active2 = 0;\r\nvar active_score_2 = 0;\r\nvar positionYBaseArco = 0;\r\nvar count = 0;\r\nvar container_goal_ball = new PIXI.Container();\r\nvar container_score = new PIXI.Container();\r\nvar container_icon = new PIXI.Container();\r\nvar scene_call = 0;\r\nvar gjp = [];\r\nvar gja = [];\r\nvar teams_selected = \"\";\r\nvar rl = 0;\r\nvar FRAMES = [prfx + \"football.png\", prfx + \"football.png\"];\r\n// create a new Sprite using the texture\r\nvar ball;\r\nvar gloves;\r\nvar white_mark;\r\nvar arco;\r\nvar arco1;\r\nvar arco2;\r\nvar arco3;\r\nvar arco4;\r\nvar arco5;\r\nvar arco6;\r\nvar container;\r\nvar containerscore;\r\nvar arcos;\r\nvar blurFilter1;\r\nvar playerIcon;\r\nvar textTeam1;\r\nvar textTeam2;\r\nvar message = new PIXI.Sprite();\r\nvar selected_flag = new PIXI.Sprite();\r\nvar random_flag_sprite = new PIXI.Sprite();\r\n\r\nvar numbers_random = [1, 2, 3, 4, 5, 6];\r\nvar score_sprites = [];\r\nvar score_sprites_auto = [];\r\nvar score_goal = [-1, -1, -1, -1, -1];\r\nvar score_goal_auto = [-1, -1, -1, -1, -1];\r\nvar number_clicks_goal = 0;\r\nvar number_clicks_glove = 0;\r\nvar current_turn_sum = 0;\r\nvar sum_score_player = 0;\r\nvar sum_score_auto = 0;\r\n\r\nfunction Scene2(stage, renderer, next_scene, background) {\r\n  // Initialize sprites 2\r\n\r\n  ball = new PIXI.Sprite(resources[prfx + \"football2.png\"].texture);\r\n  gloves = new PIXI.Sprite(resources[prfx + \"gloves.png\"].texture);\r\n  white_mark = new PIXI.Sprite(resources[prfx + \"white_mark.png\"].texture);\r\n  arco = new PIXI.Sprite(resources[prfx + \"arco.png\"].texture);\r\n  arco1 = new PIXI.Sprite(resources[prfx + \"arco-0-0.png\"].texture);\r\n  arco2 = new PIXI.Sprite(resources[prfx + \"arco-1-0.png\"].texture);\r\n  arco3 = new PIXI.Sprite(resources[prfx + \"arco-2-0.png\"].texture);\r\n  arco4 = new PIXI.Sprite(resources[prfx + \"arco-0-1.png\"].texture);\r\n  arco5 = new PIXI.Sprite(resources[prfx + \"arco-1-1.png\"].texture);\r\n  arco6 = new PIXI.Sprite(resources[prfx + \"arco-2-1.png\"].texture);\r\n  container = new PIXI.Sprite(resources[prfx + \"container_goal.png\"].texture);\r\n  container.visible = false;\r\n  containerscore = new PIXI.Sprite(\r\n    resources[prfx + \"container_score.png\"].texture\r\n  );\r\n  blurFilter1 = new PIXI.filters.BlurFilter();\r\n  playerIcon = new PIXI.Sprite(resources[prfx + \"player_icon.png\"].texture);\r\n\r\n  textTeam1;\r\n  textTeam2;\r\n  message = new PIXI.Sprite();\r\n  selected_flag = new PIXI.Sprite();\r\n  random_flag_sprite = new PIXI.Sprite();\r\n  arcos = [arco1, arco2, arco3, arco4, arco5, arco6];\r\n\r\n  outstage = stage;\r\n  outrenderer = renderer;\r\n  out_next_scene2 = next_scene;\r\n  outbackground = background;\r\n\r\n  container_goal_ball.position.x =\r\n    outrenderer.original_width + (outrenderer.original_width / 2 - 240);\r\n  container_goal_ball.position.y = 0;\r\n\r\n  container.position.x = 0;\r\n  container.position.y = 0;\r\n  container_goal_ball.addChild(container);\r\n\r\n  positionYBaseArco = 250;\r\n  arco2.position.x = 240;\r\n  arco2.position.y = positionYBaseArco - 84;\r\n\r\n  // center the sprites anchor point\r\n  ball.anchor.x = 0.5;\r\n  ball.anchor.y = 0.5;\r\n  ball.filters = [blurFilter1];\r\n\r\n  arco1.position.x = arco2.position.x - 140;\r\n  arco1.position.y = positionYBaseArco - 84;\r\n\r\n  arco3.position.x = arco2.position.x + 140;\r\n  arco3.position.y = positionYBaseArco - 84;\r\n\r\n  arco4.position.x = arco2.position.x - 140;\r\n  arco4.position.y = positionYBaseArco;\r\n\r\n  arco5.position.x = arco2.position.x;\r\n  arco5.position.y = positionYBaseArco;\r\n\r\n  arco6.position.x = arco2.position.x + 140;\r\n  arco6.position.y = positionYBaseArco;\r\n\r\n  //Add goals to array in order to bind a click function to them\r\n  var elasticTween;\r\n  var elasticTweenAuto;\r\n  var current_click;\r\n  var current_auto;\r\n  var empty_score;\r\n  var current_result;\r\n\r\n  containerscore.anchor.x = 0.5;\r\n  containerscore.anchor.y = 0.5;\r\n  containerscore.position.x = 200;\r\n  containerscore.position.y = 41;\r\n  containerscore.width = 400;\r\n  containerscore.height = 82;\r\n  container_score.position.x =\r\n    outrenderer.original_width + (outrenderer.original_width / 2 - 200);\r\n  container_score.position.y = 0;\r\n\r\n  container_score.addChild(containerscore);\r\n\r\n  for (var i = 0; i < score_goal.length; i++) {\r\n    if (i !== 0)\r\n      empty_score = new PIXI.Sprite(\r\n        resources[prfx + \"empty_score.png\"].texture\r\n      );\r\n    else\r\n      empty_score = new PIXI.Sprite(\r\n        resources[prfx + \"selected_score.png\"].texture\r\n      );\r\n    empty_score.anchor.x = 0.5;\r\n    empty_score.anchor.y = 0.5;\r\n    empty_score.width = 22;\r\n    empty_score.height = 22;\r\n    empty_score.position.x = i * 22 + 12;\r\n    empty_score.position.y = 60;\r\n    score_sprites.push(empty_score);\r\n    container_score.addChild(empty_score);\r\n\r\n    //Add the other one for the computer score\r\n    empty_score = new PIXI.Sprite(resources[prfx + \"empty_score.png\"].texture);\r\n    empty_score.anchor.x = 0.5;\r\n    empty_score.anchor.y = 0.5;\r\n    empty_score.width = 22;\r\n    empty_score.height = 22;\r\n    empty_score.position.x = 200 + 78 + (i * 22 + 12);\r\n    empty_score.position.y = 60;\r\n    score_sprites_auto.push(empty_score);\r\n    container_score.addChild(empty_score);\r\n  }\r\n  outstage.addChild(container_score);\r\n  for (var i = 0; i < arcos.length; i++) {\r\n    arcos[i].anchor.x = 0.5;\r\n    arcos[i].anchor.y = 0.5;\r\n    arcos[i].interactive = true;\r\n    arcos[i].buttonMode = true;\r\n    arcos[i].defaultCursor = \"pointer\";\r\n    arcos[i].mousedown = arcos[i].touchstart = function () {\r\n      if (this.interactive == false) return;\r\n      container_icon.visible = false;\r\n      turnInteractiveOnOff(false);\r\n      var item;\r\n      var pr = -1;\r\n      var pr2 = -1;\r\n      if (gjp.length > 0) {\r\n        pr = -2;\r\n        pr2 = -2;\r\n      } else {\r\n        item =\r\n          numbers_random[Math.floor(Math.random() * numbers_random.length)];\r\n      }\r\n\r\n      if (current_turn == 0) {\r\n        if (pr !== -1) {\r\n          pr = gjp[number_clicks_goal];\r\n          if (pr == 1) {\r\n            do {\r\n              item =\r\n                numbers_random[\r\n                  Math.floor(Math.random() * numbers_random.length)\r\n                ];\r\n            } while (\r\n              arcos[item - 1].position.x == this.position.x &&\r\n              arcos[item - 1].position.y == this.position.y\r\n            );\r\n          } else if (pr == 0) {\r\n            do {\r\n              item =\r\n                numbers_random[\r\n                  Math.floor(Math.random() * numbers_random.length)\r\n                ];\r\n            } while (\r\n              arcos[item - 1].position.x != this.position.x ||\r\n              arcos[item - 1].position.y != this.position.y\r\n            );\r\n          }\r\n        }\r\n\r\n        current_click = ball;\r\n        current_auto = gloves;\r\n        if (\r\n          this.position.x == arcos[item - 1].position.x &&\r\n          this.position.y == arcos[item - 1].position.y\r\n        ) {\r\n          current_result = 0;\r\n          score_sprites[number_clicks_goal].texture =\r\n            resources[prfx + \"bad_score.png\"].texture;\r\n        } else {\r\n          current_result = 1;\r\n          score_sprites[number_clicks_goal].texture =\r\n            resources[prfx + \"good_score.png\"].texture;\r\n          sum_score_player += 1;\r\n        }\r\n        score_goal[number_clicks_goal] = current_result;\r\n        number_clicks_goal += 1;\r\n        current_turn = 1;\r\n      } else {\r\n        if (pr2 !== -1) {\r\n          pr2 = gja[number_clicks_glove];\r\n          if (pr2 == 1) {\r\n            do {\r\n              item =\r\n                numbers_random[\r\n                  Math.floor(Math.random() * numbers_random.length)\r\n                ];\r\n            } while (\r\n              arcos[item - 1].position.x == this.position.x &&\r\n              arcos[item - 1].position.y == this.position.y\r\n            );\r\n          } else if (pr2 == 0) {\r\n            do {\r\n              item =\r\n                numbers_random[\r\n                  Math.floor(Math.random() * numbers_random.length)\r\n                ];\r\n            } while (\r\n              arcos[item - 1].position.x != this.position.x ||\r\n              arcos[item - 1].position.y != this.position.y\r\n            );\r\n          }\r\n        }\r\n\r\n        current_click = gloves;\r\n        current_auto = ball;\r\n        if (\r\n          this.position.x == arcos[item - 1].position.x &&\r\n          this.position.y == arcos[item - 1].position.y\r\n        ) {\r\n          current_result = 0;\r\n          score_sprites_auto[number_clicks_glove].texture =\r\n            resources[prfx + \"bad_score.png\"].texture;\r\n        } else {\r\n          current_result = 1;\r\n          score_sprites_auto[number_clicks_glove].texture =\r\n            resources[prfx + \"good_score.png\"].texture;\r\n          sum_score_auto += 1;\r\n        }\r\n        score_goal_auto[number_clicks_glove] = current_result;\r\n        number_clicks_glove += 1;\r\n        current_turn = 0;\r\n      }\r\n\r\n      requestAnimationFrame(frameBall);\r\n      elasticTween = c.slide(\r\n        current_click,\r\n        this.position.x,\r\n        this.position.y,\r\n        25,\r\n        \"inverseSineSquared\"\r\n      );\r\n      c.scale(ball, 0.7, 0.7, 25);\r\n      elasticTweenAuto = c.slide(\r\n        current_auto,\r\n        arcos[item - 1].position.x,\r\n        arcos[item - 1].position.y,\r\n        25,\r\n        \"inverseSineSquared\"\r\n      );\r\n      elasticTween.onComplete = function () {\r\n        onTweenCompleteBall(ball);\r\n      };\r\n      elasticTweenAuto.onComplete = function () {\r\n        displayMessage(current_result);\r\n        onTweenCompleteGloves(gloves);\r\n      };\r\n    };\r\n\r\n    container_goal_ball.addChild(arcos[i]);\r\n  }\r\n\r\n  gloves.position.x = 240;\r\n  gloves.position.y = positionYBaseArco - 15;\r\n  gloves.width = 90;\r\n  gloves.height = 90;\r\n  gloves.anchor.x = 0.5;\r\n  gloves.anchor.y = 0.5;\r\n  container_goal_ball.addChild(gloves);\r\n\r\n  ball.position.x = 240;\r\n  ball.position.y = positionYBaseArco + 150;\r\n\r\n  playerIcon.anchor.x = 0.5;\r\n  playerIcon.anchor.y = 0.5;\r\n  playerIcon.position.x = 0;\r\n  playerIcon.position.y = 0;\r\n\r\n  container_icon.position.x = ball.position.x;\r\n  container_icon.position.y = 340;\r\n  container_icon.addChild(playerIcon);\r\n\r\n  white_mark.anchor.x = 0.5;\r\n  white_mark.anchor.y = 0.5;\r\n  white_mark.position.x = ball.position.x;\r\n  white_mark.position.y = ball.position.y + 35;\r\n\r\n  container_goal_ball.addChild(white_mark);\r\n  container_goal_ball.addChild(ball);\r\n  container_goal_ball.addChild(container_icon);\r\n\r\n  message.anchor.x = 0.5;\r\n  message.anchor.y = 0.5;\r\n  message.position.x = -1000;\r\n  message.position.y = 280;\r\n  container_goal_ball.addChild(message);\r\n  outstage.addChild(container_goal_ball);\r\n  requestAnimationFrame(animateIcon);\r\n}\r\n\r\nvar textScoreTeam1 = new PIXI.Text(\"0\", {\r\n  font: \"bold 30px Arial\",\r\n  fill: \"#74B500\",\r\n  align: \"center\",\r\n});\r\n\r\nvar textScoreTeam2 = new PIXI.Text(\"0\", {\r\n  font: \"bold 30px Arial\",\r\n  fill: \"#74B500\",\r\n  align: \"center\",\r\n});\r\n\r\nvar teams = null;\r\n\r\nScene2.prototype.startScene = function (idflag, random_flag) {\r\n  initGame();\r\n  active2 = 1;\r\n  active_score_2 = 1;\r\n  textTeam1 = new PIXI.Text(names[idflag][1], {\r\n    font: \"bold 17px Arial\",\r\n    fill: \"black\",\r\n    align: \"left\",\r\n  });\r\n  textTeam1.position.x = 45;\r\n  textTeam1.position.y = 9;\r\n  textTeam2 = new PIXI.Text(names[random_flag][1], {\r\n    font: \"bold 17px Arial\",\r\n    fill: \"black\",\r\n    align: \"right\",\r\n  });\r\n  textTeam2.anchor.x = 1;\r\n  textTeam2.position.x = 360;\r\n  textTeam2.position.y = 9;\r\n\r\n  textScoreTeam1.position.x = 170;\r\n  textScoreTeam1.position.y = 48;\r\n\r\n  textScoreTeam2.anchor.x = 0.5;\r\n  textScoreTeam2.position.x = 222;\r\n  textScoreTeam2.position.y = 48;\r\n\r\n  //Adds the flag selected by the user\r\n  var textureFlag = PIXI.Texture.fromImage(prfx + \"flags/\" + idflag + \".png\");\r\n  selected_flag.texture = textureFlag;\r\n  selected_flag.anchor.x = 0.5;\r\n  selected_flag.anchor.y = 0.5;\r\n  selected_flag.width = 32;\r\n  selected_flag.height = 32;\r\n  selected_flag.position.x = 20;\r\n  selected_flag.position.y = 18;\r\n\r\n  container_score.addChild(selected_flag);\r\n  //Adds a random flag as opponent\r\n  var textureRandomFlag = PIXI.Texture.fromImage(\r\n    prfx + \"flags/\" + random_flag + \".png\"\r\n  );\r\n  random_flag_sprite.texture = textureRandomFlag;\r\n  random_flag_sprite.anchor.x = 0.5;\r\n  random_flag_sprite.anchor.y = 0.5;\r\n  random_flag_sprite.width = 32;\r\n  random_flag_sprite.height = 32;\r\n  random_flag_sprite.position.x = 380;\r\n  random_flag_sprite.position.y = 18;\r\n\r\n  teams = names[idflag][0] + \":\" + names[random_flag][0];\r\n\r\n  container_score.addChild(random_flag_sprite);\r\n  container_score.addChild(textTeam1);\r\n  container_score.addChild(textTeam2);\r\n  container_score.addChild(textScoreTeam1);\r\n  container_score.addChild(textScoreTeam2);\r\n  new Tween(\r\n    outbackground,\r\n    \"position.x\",\r\n    outbackground.position.x - 720,\r\n    outstage.transition_rate,\r\n    true\r\n  );\r\n  new Tween(\r\n    container_goal_ball,\r\n    \"position.x\",\r\n    outrenderer.original_width / 2 - 240,\r\n    outstage.transition_rate,\r\n    true\r\n  );\r\n  new Tween(\r\n    container_score,\r\n    \"position.x\",\r\n    outrenderer.original_width / 2 - 200,\r\n    outstage.transition_rate,\r\n    true\r\n  );\r\n};\r\n\r\nScene2.prototype.clearScene = function () {\r\n  if (scene_call == 0) {\r\n    message.visible = false;\r\n\r\n    scene_call = 1;\r\n    active2 = 0;\r\n    new Tween(\r\n      outbackground,\r\n      \"position.x\",\r\n      outbackground.position.x - outrenderer.original_width,\r\n      outstage.transition_rate,\r\n      true\r\n    );\r\n    /*new Tween(container_goal_ball, \"position.x\",(-600) , outstage.transition_rate, true);\r\n          new Tween(container_score, \"position.x\", (-600), outstage.transition_rate, true);*/\r\n    var cont_ball_tween = c.slide(\r\n      container_goal_ball,\r\n      -600,\r\n      container_goal_ball.position.y,\r\n      outstage.transition_rate,\r\n      \"smoothstep\"\r\n    );\r\n    //c.slide(container_score, -600, container_score.position.y, outstage.transition_rate, \"smoothstep\");\r\n    cont_ball_tween.setOnComplete = function () {\r\n      container_goal_ball.visible = false;\r\n      message.visible = false;\r\n    };\r\n    /*var c1=0;\r\n          var c2=0;\r\n          for(var i =0;i < gja.length;i++){\r\n              if(gja[i] == 1)\r\n                 c1+=1; \r\n          }\r\n          for(var i =0;i < gjp.length;i++){\r\n              if(gjp[i] == 1)\r\n                 c2+=1; \r\n          }\r\n          if(c1 > c2) out_next_scene2.startScene(0,teams);\r\n          else out_next_scene2.startScene(1,teams);*/\r\n    out_next_scene2.startScene(rl, teams);\r\n  }\r\n};\r\n\r\nScene2.prototype.repositionElements = function (orientation) {\r\n  if (active2 == 0) {\r\n    container_goal_ball.position.x =\r\n      outrenderer.original_width + (outrenderer.original_width / 2 - 240);\r\n    if (active_score_2 == 0)\r\n      container_score.position.x =\r\n        outrenderer.original_width + (outrenderer.original_width / 2 - 200);\r\n    else container_score.position.x = outrenderer.original_width / 2 - 200;\r\n  } else {\r\n    container_goal_ball.position.x = outrenderer.original_width / 2 - 240;\r\n    container_score.position.x = outrenderer.original_width / 2 - 200;\r\n  }\r\n  if (orientation >= 1) container_goal_ball.position.y = 0;\r\n  else container_goal_ball.position.y = 130;\r\n  container_score.position.y = 0;\r\n};\r\nScene2.prototype.isActive = function () {\r\n  return active2 === 1 ? true : false;\r\n};\r\n\r\nvar frameBall = function () {\r\n  count += 0.5;\r\n  var blurAmount = Math.cos(count);\r\n  blurFilter1.blur = 20 * blurAmount;\r\n  ball.rotation += 0.3;\r\n  requestAnimationFrame(frameBall);\r\n};\r\nfunction animateErase() {\r\n  ball.rotation -= 0.3;\r\n  blurFilter1.blur = 0;\r\n  requestAnimationFrame(animateErase);\r\n}\r\nvar yspeed = 1;\r\nfunction animateIcon() {\r\n  if (playerIcon.position.y > 30) {\r\n    // bounce the circle\r\n    yspeed *= -1;\r\n    // affix to the bottom of the stage\r\n    playerIcon.position.y = 30;\r\n  } else if (playerIcon.position.y < 0) {\r\n    // bounce the circle\r\n    yspeed *= -1;\r\n    // affix to the top of the stage\r\n    playerIcon.position.y = 0;\r\n  }\r\n  playerIcon.position.y += yspeed;\r\n  requestAnimationFrame(animateIcon);\r\n}\r\nfunction onButtonUpArco() {}\r\nfunction onTweenCompleteBall(param) {\r\n  setTimeout(function () {\r\n    var elasticTweenBackX = new Tween(param, \"position.x\", 240, 25, false);\r\n    var elasticTweenBackY = new Tween(\r\n      param,\r\n      \"position.y\",\r\n      positionYBaseArco + 150,\r\n      25,\r\n      false\r\n    );\r\n    elasticTweenBackX.easing = Tween.outCubic;\r\n    elasticTweenBackY.easing = Tween.outCubic;\r\n    elasticTweenBackX.start();\r\n    elasticTweenBackY.start();\r\n    requestAnimationFrame(animateErase);\r\n  }, 600);\r\n}\r\nfunction onTweenCompleteGloves(param) {\r\n  setTimeout(function () {\r\n    var elasticTweenBackX = new Tween(param, \"position.x\", 240, 25, false);\r\n    var elasticTweenBackY = new Tween(\r\n      param,\r\n      \"position.y\",\r\n      positionYBaseArco - 25,\r\n      25,\r\n      false\r\n    );\r\n    elasticTweenBackX.easing = Tween.outCubic;\r\n    elasticTweenBackY.easing = Tween.outCubic;\r\n    elasticTweenBackX.start();\r\n    elasticTweenBackY.start();\r\n    elasticTweenBackY.setOnComplete(function () {\r\n      alterTurnImages();\r\n    });\r\n  }, 600);\r\n}\r\n\r\nfunction alterTurnImages() {\r\n  if (current_turn == 0) {\r\n    ball.texture = resources[prfx + \"football2.png\"].texture;\r\n    gloves.texture = resources[prfx + \"gloves.png\"].texture;\r\n    container_icon.position.y = 340;\r\n  } else {\r\n    gloves.texture = resources[prfx + \"gloves2.png\"].texture;\r\n    ball.texture = resources[prfx + \"football.png\"].texture;\r\n    container_icon.position.y = 95;\r\n  }\r\n  textScoreTeam1.text = \"\" + sum_score_player;\r\n  textScoreTeam2.text = \"\" + sum_score_auto;\r\n  c.scale(ball, 1, 1, 25);\r\n  container_icon.visible = true;\r\n  turnInteractiveOnOff(true);\r\n}\r\n\r\nfunction displayMessage(result) {\r\n  if (current_turn == 0) {\r\n    if (result == 0) {\r\n      message.texture =\r\n        resources[prfx + \"messages/saved_\" + lg + \".png\"].texture;\r\n    } else {\r\n      message.texture =\r\n        resources[prfx + \"messages/goal_auto_\" + lg + \".png\"].texture;\r\n    }\r\n  } else {\r\n    if (result == 0) {\r\n      message.texture =\r\n        resources[prfx + \"messages/missed_\" + lg + \".png\"].texture;\r\n    } else {\r\n      message.texture =\r\n        resources[prfx + \"messages/goal_\" + lg + \".png\"].texture;\r\n    }\r\n  }\r\n  var tween_message = c.slide(\r\n    message,\r\n    container.width / 2,\r\n    message.position.y,\r\n    20,\r\n    \"deceleration\"\r\n  );\r\n  var tween_breathe;\r\n  tween_message.onComplete = function () {\r\n    tween_breathe = c.breathe(message, 1.2, 1.2, 20, true);\r\n    tween_breathe.play();\r\n    setTimeout(function () {\r\n      tween_breathe.pause();\r\n      var tween_message2 = c.slide(\r\n        message,\r\n        1000,\r\n        message.position.y,\r\n        20,\r\n        \"acceleration\"\r\n      );\r\n      tween_message2.onComplete = function () {\r\n        message.position.x = -1000;\r\n        if (number_clicks_glove === 5) {\r\n          turnInteractiveOnOff(false);\r\n          Scene2.prototype.clearScene();\r\n        }\r\n      };\r\n    }, 800);\r\n  };\r\n}\r\n\r\nfunction turnInteractiveOnOff(newinteractive) {\r\n  for (var i = 0; i < arcos.length; i++) {\r\n    arcos[i].interactive = newinteractive;\r\n  }\r\n}\r\nfunction initGame() {\r\n  var url = c_url + \"PenaltyEURO2016/initializeGame/\";\r\n  jQuery.post(\r\n    url,\r\n    {\r\n      data: tn,\r\n    },\r\n    function (response) {\r\n      if (response) {\r\n        if (typeof response[\"sprites\"] != \"undefined\") {\r\n          var inits = response[\"sprites\"];\r\n          for (var key in inits) {\r\n            if (!inits.hasOwnProperty(key)) continue;\r\n            var a = JSON.parse(Base64.decode(inits[key]));\r\n            for (var i = 0; i < a.length; i++) {\r\n              if (key == \"1\") gjp.push(a[i]);\r\n              else if (key == \"2\") gja.push(a[i]);\r\n            }\r\n            if (key == \"t\") rl = parseInt(a);\r\n          }\r\n        } else {\r\n          console.log(\"Error Inside Response\");\r\n        }\r\n      } else {\r\n        console.log(\"Error\");\r\n      }\r\n    },\r\n    \"jsonp\"\r\n  );\r\n}\r\n\r\n/**\r\n * JS code for the stage 1\r\n */\r\nvar outrenderer;\r\nvar outstage;\r\nvar outbackground;\r\nvar active3 = 0;\r\n\r\nvar container_prize = new PIXI.Container();\r\nvar message_final = new PIXI.Sprite();\r\nvar logo3;\r\nvar containermain;\r\nvar prize;\r\nvar textBottom;\r\nvar textTop;\r\nvar containerscore;\r\nvar textTeam1;\r\nvar textTeam2;\r\nvar selected_flag = new PIXI.Sprite();\r\nvar random_flag_sprite = new PIXI.Sprite();\r\nvar text_terms_conditions_final;\r\n\r\nfunction Scene3(stage, renderer, background) {\r\n  // Initialize sprites 3\r\n  logo3 = new PIXI.Sprite(resources[prfx + \"small_logo.png\"].texture);\r\n  containermain = new PIXI.Sprite(\r\n    resources[prfx + \"container_box.png\"].texture\r\n  );\r\n  prize = new PIXI.Sprite(resources[prfx + \"red_card.png\"].texture);\r\n\r\n  outstage = stage;\r\n  outrenderer = renderer;\r\n  outbackground = background;\r\n\r\n  containermain.position.x = 0;\r\n  containermain.position.y = 0;\r\n  containermain.height = 420;\r\n  containermain.width = 420;\r\n  container_prize.addChild(containermain);\r\n\r\n  logo3.anchor.x = 0.5;\r\n  logo3.anchor.y = 0.5;\r\n  logo3.position.x = containermain.width / 2;\r\n  logo3.position.y = 370;\r\n  container_prize.addChild(logo3);\r\n\r\n  text_terms_conditions_final = new PIXI.Text(messages[\"terms_conditions\"], {\r\n    font: \"15px Arial\",\r\n    fill: \"white\",\r\n    align: \"center\",\r\n  });\r\n  text_terms_conditions_final.anchor.x = 0.5;\r\n  text_terms_conditions_final.anchor.y = 0.5;\r\n  text_terms_conditions_final.position.x = containermain.width / 2;\r\n  text_terms_conditions_final.position.y = 340;\r\n  text_terms_conditions_final.interactive = true;\r\n  text_terms_conditions_final.buttonMode = true;\r\n  text_terms_conditions_final.defaultCursor = \"pointer\";\r\n\r\n  prize.anchor.x = 0.5;\r\n  prize.anchor.y = 0.5;\r\n  prize.position.x = containermain.width / 2;\r\n  prize.position.y = 180;\r\n  prize.height = 180;\r\n  prize.width = 180;\r\n  container_prize.addChild(prize);\r\n\r\n  message_final.anchor.x = 0.5;\r\n  message_final.anchor.y = 0.5;\r\n  message_final.position.x = container_prize.width / 2;\r\n  message_final.position.y = container_prize.height;\r\n  c.fadeOut(message_final);\r\n  container_prize.addChild(message_final);\r\n  textBottom = new PIXI.Text(messages[\"loser\"], {\r\n    font: \"bold italic 16px Arial\",\r\n    fill: \"white\",\r\n    align: \"center\",\r\n  });\r\n  textBottom.anchor.x = 0.5;\r\n  textBottom.anchor.y = 0.5;\r\n  textBottom.position.x = containermain.width / 2;\r\n  textBottom.position.y = 315;\r\n  c.fadeOut(textBottom);\r\n\r\n  textTop = new PIXI.Text(messages[\"top_winner\"], {\r\n    font: \"bold italic 18px Arial\",\r\n    fill: \"white\",\r\n    align: \"center\",\r\n  });\r\n  textTop.anchor.x = 0.5;\r\n  textTop.anchor.y = 0.5;\r\n  textTop.position.x = containermain.width / 2;\r\n  textTop.position.y = 110;\r\n  c.fadeOut(textTop);\r\n\r\n  container_prize.addChild(textBottom);\r\n  container_prize.addChild(textTop);\r\n\r\n  container_prize.position.x =\r\n    outrenderer.original_width * 2 + (outrenderer.original_width / 2 - 200);\r\n  container_prize.position.y = 90;\r\n  outstage.addChild(container_prize);\r\n}\r\n\r\nScene3.prototype.startScene = function (result, teams) {\r\n  active3 = 1;\r\n  if (result == 0) {\r\n    message_final.texture =\r\n      resources[\r\n        \"/public/euro2016_penalty/messages/try_again_\" + lg + \".png\"\r\n      ].texture;\r\n    prize.texture = resources[\"/public/euro2016_penalty/red_card.png\"].texture;\r\n  } else if (result == 1) {\r\n    message_final.texture =\r\n      resources[\r\n        \"/public/euro2016_penalty/messages/congrats_\" + lg + \".png\"\r\n      ].texture;\r\n    prize.texture =\r\n      resources[\"/public/euro2016_penalty/messages/\" + prs + \".png\"].texture;\r\n    textBottom.text = messages[\"winner\"];\r\n  } else if (result == 2) {\r\n    message_final.texture =\r\n      resources[\r\n        \"/public/euro2016_penalty/messages/congrats_\" + lg + \".png\"\r\n      ].texture;\r\n    if (prb != \"0\")\r\n      prize.texture =\r\n        resources[\"/public/euro2016_penalty/messages/\" + prb + \".png\"].texture;\r\n    else\r\n      prize.texture =\r\n        resources[\"/public/euro2016_penalty/messages/\" + prs + \".png\"].texture;\r\n    textBottom.text = messages[\"winner\"];\r\n  }\r\n\r\n  new Tween(\r\n    outbackground,\r\n    \"position.x\",\r\n    outbackground.position.x - 720,\r\n    outstage.transition_rate,\r\n    true\r\n  );\r\n  var tween_cont_final = new Tween(\r\n    container_prize,\r\n    \"position.x\",\r\n    outrenderer.original_width / 2 - 420 / 2,\r\n    outstage.transition_rate,\r\n    true\r\n  );\r\n  tween_cont_final.setOnComplete(function (params) {\r\n    showMessage(result);\r\n    endGame(teams);\r\n  });\r\n};\r\n\r\nScene3.prototype.clearScene = function () {};\r\nScene3.prototype.repositionElements = function (orientation) {\r\n  if (active3 == 1) {\r\n    container_prize.position.x = outrenderer.original_width / 2 - 210;\r\n  } else {\r\n    container_prize.position.x =\r\n      outrenderer.original_width * 2 + (outrenderer.original_width / 2 - 210);\r\n  }\r\n  if (orientation >= 1) container_prize.position.y = 80;\r\n  else container_prize.position.y = 170;\r\n};\r\nScene3.prototype.isActive = function () {\r\n  return active3 === 1 ? true : false;\r\n};\r\nfunction showMessage(result) {\r\n  c.fadeIn(message_final);\r\n  c.scale(message_final, 1, 1, 22);\r\n  var tween_message_final = c.slide(\r\n    message_final,\r\n    message_final.position.x,\r\n    60,\r\n    40,\r\n    \"bounce 3 -3\"\r\n  );\r\n  tween_message_final.onComplete = function () {\r\n    c.fadeIn(textBottom);\r\n    if (result == 1 || result == 2) {\r\n      c.fadeIn(textTop);\r\n      requestAnimationFrame(animatePrizeWinner);\r\n      c.breathe(prize, 0.85, 0.85, 20, false);\r\n    }\r\n  };\r\n}\r\nvar yspeed_3 = 0.6;\r\n\r\nfunction animatePrizeWinner() {\r\n  if (prize.position.y > 215) {\r\n    // bounce the circle\r\n    yspeed_3 *= -1;\r\n    // affix to the bottom of the stage\r\n    prize.position.y = 215;\r\n  } else if (prize.position.y < 190) {\r\n    // bounce the circle\r\n    yspeed_3 *= -1;\r\n    // affix to the top of the stage\r\n    prize.position.y = 190;\r\n  }\r\n\r\n  prize.position.y += yspeed_3;\r\n  requestAnimationFrame(animatePrizeWinner);\r\n}\r\n\r\nfunction endGame(teams) {\r\n  var url = c_url + \"PenaltyEURO2016/endGame/\";\r\n  jQuery.post(\r\n    url,\r\n    {\r\n      data: teams,\r\n    },\r\n    function (response) {\r\n      if (response) {\r\n        if (typeof response[\"msg\"] != \"undefined\") {\r\n        } else {\r\n          alert(\"Error\");\r\n        }\r\n      } else {\r\n        alert(\"Error\");\r\n      }\r\n    },\r\n    \"jsonp\"\r\n  );\r\n}\r\n"]}